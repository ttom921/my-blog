"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[2209],{7302:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>c,toc:()=>l});const c=JSON.parse('{"id":"\u5b78\u7fd2/rust/rustbasic/rust_\u751f\u547d\u9031\u671f_Lifetime","title":"12-rust_\u751f\u547d\u9031\u671f_Lifetime","description":"_\u751f\u547d\u9031\u671f_Lifetime","source":"@site/docs/\u5b78\u7fd2/rust/rustbasic/13-rust_\u751f\u547d\u9031\u671f_Lifetime.md","sourceDirName":"\u5b78\u7fd2/rust/rustbasic","slug":"/\u5b78\u7fd2/rust/rustbasic/rust_\u751f\u547d\u9031\u671f_Lifetime","permalink":"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u751f\u547d\u9031\u671f_Lifetime","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"\uff03id":"doc-markdown","title":"12-rust_\u751f\u547d\u9031\u671f_Lifetime","description":"_\u751f\u547d\u9031\u671f_Lifetime","keywords":["rust"],"last_update":{"date":"4/15/2024","author":"ttom"}},"sidebar":"tutorialSidebar","previous":{"title":"12-rust_\u7d50\u69cb_Struct","permalink":"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u7d50\u69cb_Struct"},"next":{"title":"14-rust_\u7279\u5fb5_Trait","permalink":"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u7279\u5fb5_Trait"}}');var s=r(4848),t=r(8453);const a={"\uff03id":"doc-markdown",title:"12-rust_\u751f\u547d\u9031\u671f_Lifetime",description:"_\u751f\u547d\u9031\u671f_Lifetime",keywords:["rust"],last_update:{date:"4/15/2024",author:"ttom"}},i=void 0,d={},l=[{value:"\u53c3\u6578\u8207\u56de\u50b3\u503c",id:"\u53c3\u6578\u8207\u56de\u50b3\u503c",level:2},{value:"\u751f\u547d\u9031\u671f\u6a19\u8a18\uff08Lifetime Annotation\uff09",id:"\u751f\u547d\u9031\u671f\u6a19\u8a18lifetime-annotation",level:2},{value:"\u4ec0\u9ebc\u6642\u5019\u4e0d\u7528\u6a19\u8a18\uff1f",id:"\u4ec0\u9ebc\u6642\u5019\u4e0d\u7528\u6a19\u8a18",level:3},{value:"1. \u51fd\u6578\u88e1\u7684\u53c3\u6578\u662f <code>&amp;</code> \u53c3\u7167\uff0c\u4f46\u56de\u50b3\u503c\u4e0d\u662f\u53c3\u7167\uff1a",id:"1-\u51fd\u6578\u88e1\u7684\u53c3\u6578\u662f--\u53c3\u7167\u4f46\u56de\u50b3\u503c\u4e0d\u662f\u53c3\u7167",level:4},{value:"2. \u53ea\u6709\u5176\u4e2d\u4e00\u500b\u53c3\u6578\u662f <code>&amp;</code>\u53c3\u7167\uff0c\u800c\u4e14\u56de\u50b3\u503c\u4e5f\u662f <code>&amp; </code>\u53c3\u7167\uff1a",id:"2-\u53ea\u6709\u5176\u4e2d\u4e00\u500b\u53c3\u6578\u662f-\u53c3\u7167\u800c\u4e14\u56de\u50b3\u503c\u4e5f\u662f--\u53c3\u7167",level:4},{value:"3. \u53ea\u6709\u552f\u4e00\u4e00\u500b\u53c3\u7167\u53c3\u6578",id:"3-\u53ea\u6709\u552f\u4e00\u4e00\u500b\u53c3\u7167\u53c3\u6578",level:4},{value:"\u591a\u500b\u751f\u547d\u9031\u671f\u53c3\u6578",id:"\u591a\u500b\u751f\u547d\u9031\u671f\u53c3\u6578",level:3}];function o(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"\u5728\u524d\u9762\u7684\u300c\u6240\u6709\u6b0a\uff08Ownership\uff09\u300d\u7ae0\u7bc0\u66fe\u7d93\u4ecb\u7d39 Rust \u662f\u5982\u4f55\u900f\u904e\u6240\u6709\u6b0a\u7684\u8f49\u8b93\u8207\u51fa\u501f\uff0c\u4f86\u6c7a\u5b9a\u662f\u5426\u8981\u91cb\u653e\u4e0d\u518d\u4f7f\u7528\u7684\u8a18\u61b6\u9ad4\u7a7a\u9593\uff0c\u4f46\u5176\u5be6\u5728\u4ecb\u7d39\u6240\u6709\u6b0a\u7684\u6642\u5019\uff0c\u6211\u5011\u6709\u7701\u7565\u4e86\u4e00\u4e9b\u6771\u897f\u3002"}),"\n",(0,s.jsx)(n.p,{children:"Rust \u6709\u300c\u501f\uff08Borrow\uff09\u300d\u7684\u8a2d\u8a08\uff0c\u4e0d\u9700\u8981\u8907\u88fd\u6574\u4efd\u8cc7\u6599\uff0c\u53ea\u8981\u7528 & \u505a\u500b\u53c3\u7167\u6216\u5207\u7247\uff0c\u5c31\u80fd\u900f\u904e\u53c3\u7167\u76f4\u63a5\u53d6\u7528\u539f\u672c\u7684\u8cc7\u6599\u3002\u4f46\u662f\u60f3\u50cf\u4e00\u4e0b\uff0c\u5982\u679c\u6211\u505a\u4e86\u4e00\u500b Slice \u6307\u5411\u67d0\u500b Vector\uff0c\u842c\u4e00\u90a3\u500b Vector \u56e0\u70ba\u67d0\u4e9b\u56e0\u7d20\u88ab\u653e\u6389\u4e86\uff0c\u90a3\u9ebc\u9019\u500b Slice \u6703\u53c3\u7167\u5230\u4ec0\u9ebc\u6771\u897f\uff1f\u539f\u672c\u6307\u5411\u7684\u8a18\u61b6\u9ad4\u4f4d\u7f6e\u8b93\u51fa\u4f86\u4e4b\u5f8c\u5047\u8a2d\u904b\u6c23\u597d\u6c92\u6709\u88ab\u5176\u5b83\u8cc7\u6599\u4f54\u7528\u7684\u8a71\uff0c\u4e5f\u8a31\u6709\u6a5f\u6703\u62ff\u56de\u4f86\uff0c\u4f46\u842c\u4e00\u88ab\u5176\u5b83\u8cc7\u6599\u4f54\u7528\u4e86\u5462\uff1fRust \u7de8\u8b6f\u5668\u70ba\u4e86\u78ba\u4fdd\u7a0b\u5f0f\u53ef\u4ee5\u6b63\u78ba\u57f7\u884c\uff0c\u6240\u4ee5\u4e0d\u6703\u5141\u8a31\u9019\u7a2e\u61f8\u7a7a\u53c3\u7167\uff08dangling reference\uff09\u53ef\u80fd\u9020\u6210\u7684\u4e0d\u78ba\u5b9a\u6027\uff0c\u5728\u7de8\u8b6f\u968e\u6bb5\u5c31\u6703\u76f4\u63a5\u88ab\u64cb\u4e0b\u4f86\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6240\u4ee5\u5982\u679c\u8981\u6b63\u5e38\u904b\u4f5c\u7684\u8a71\uff0c\u88ab\u6307\u5230\u7684 Vector \u5c31\u4e0d\u80fd\u6bd4\u53c3\u7167\u5b83\u7684 Slice \u9084\u65e9\u6d88\u5931\u5c0d\u5427\u3002Rust \u7684\u7de8\u8b6f\u5668\u6709\u4e00\u500b Borrow Checker\uff08\u4ee5\u4e0b\u7c21\u7a31 BC\uff09\u7684\u8a2d\u8a08\uff0c\u5b83\u6703\u6aa2\u67e5\u53c3\u7167\u7684\u751f\u547d\u9031\u671f\uff0c\u5982\u679c Rust \u7de8\u8b6f\u5668\u767c\u73fe\u53c3\u7167\u7684\u8cc7\u6599\u7684\u751f\u547d\u9031\u671f\u6bd4\u8f03\u77ed\uff0c\u4e5f\u5c31\u662f\u6703\u6bd4\u8f03\u65e9\u6d88\u5931\uff0c\u7de8\u8b6f\u5c31\u4e0d\u6703\u901a\u904e\u3002\u96d6\u7136 BC \u7684\u6aa2\u67e5\u53ef\u80fd\u6703\u6709\u9ede\u56c9\u55e6\u751a\u81f3\u96e3\u7406\u89e3\uff0c\u4f46\u5b83\u53ef\u4ee5\u907f\u514d\u5e38\u898b\u7684\u50cf\u662f\u300c\u4f7f\u7528\u5f8c\u91cb\u653e\uff08use-after-free\uff09\u300d\u6216\u300c\u96d9\u91cd\u91cb\u653e\uff08double-free\uff09\u300d\u7684\u8a18\u61b6\u9ad4\u554f\u984c\uff0c\u4e5f\u662f\u5b83\u88ab\u8aaa\u662f\u6bd4\u8f03\u300c\u5b89\u5168\u300d\u7684\u539f\u56e0\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u5011\u5148\u4f86\u770b\u4e00\u6bb5\u7a0b\u5f0f\u78bc\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'fn print_age() {\r\n    let age = 12;\r\n  \r\n    let my_age = &age;\r\n\r\n    println!("{}", my_age);  // \u5370\u51fa 12\r\n  \r\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u88e1\u6211\u6545\u610f\u628a\u7a0b\u5f0f\u78bc\u5beb\u7684\u958b\u4e00\u9ede\uff0c\u56e0\u70ba\u5f85\u6703\u8981\u756b\u500b\u5716\u6703\u770b\u8d77\u4f86\u6bd4\u8f03\u6e05\u695a\u4e00\u4e9b\u3002\u4e0a\u9762\u9019\u6bb5\u7a0b\u5f0f\u78bc\u61c9\u8a72\u5f88\u7c21\u55ae\uff0c\u6700\u5f8c\u7d50\u679c\u5c31\u662f\u5370\u51fa 12\u3002\u9019\u88e1\u9700\u8981\u7279\u5225\u6ce8\u610f\u7684\u662f ",(0,s.jsx)(n.code,{children:"&age"})," \u7684\u5beb\u6cd5\uff0c\u5728 Rust \u4e26\u4e0d\u662f\u53ea\u6709\u9663\u5217\u3001\u5b57\u4e32\u4e4b\u985e\u7684\u8cc7\u6599\u7d50\u69cb\u624d\u80fd\u501f\uff0c\u5373\u4f7f\u662f primitive \u7684\u6574\u6578\u578b\u5225\u4e5f\u53ef\u4ee5\u501f\u3002\u5176\u4e2d ",(0,s.jsx)(n.code,{children:"age"})," \u8ddf ",(0,s.jsx)(n.code,{children:"my_age"})," \u9019\u5169\u500b\u8b8a\u6578\uff0c\u90fd\u6703\u5728 ",(0,s.jsx)(n.code,{children:"print_age()"})," \u51fd\u6578\u57f7\u884c\u7d50\u675f\u4e4b\u5f8c\u5c31\u6703\u653e\u6389\u4ed6\u5011\u6240\u4f54\u7528\u7684\u8cc7\u6e90\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u6240\u8b02\u7684\u300c\u751f\u547d\u9031\u671f\u300d\u5c31\u662f\u6307\u5f9e\u4ec0\u9ebc\u958b\u59cb\u51fa\u751f\u5230\u4ec0\u9ebc\u6642\u5019\u7d50\u675f\uff0c\u5047\u8a2d\u6211\u5011\u73fe\u5728\u4ee5 BC \u7684\u89d2\u5ea6\u4f86\u770b\u5f85\u9019\u6bb5\u7a0b\u5f0f\u78bc\uff0c\u5728 BC \u773c\u88e1\u770b\u4f86\u8b8a\u6578 ",(0,s.jsx)(n.code,{children:"age"})," \u7684\u751f\u547d\u9031\u671f\u5c31\u662f\u5f9e\u7b2c 2 \u884c\u7684 ",(0,s.jsx)(n.code,{children:"let"})," \u958b\u59cb\u5230\u6574\u500b\u51fd\u6578\u7d50\u675f\u70ba\u6b62\uff0c\u9019\u88e1\u6211\u7528 ",(0,s.jsx)(n.code,{children:"'age"})," \u6a19\u8a18\u5b83\uff0c\u800c ",(0,s.jsx)(n.code,{children:"my_age"})," \u4e5f\u4e00\u6a23\uff0c\u5b83\u7684\u751f\u547d\u9031\u671f\u5c31\u662f\u5f9e ",(0,s.jsx)(n.code,{children:"let my_age"})," \u90a3\u884c\u958b\u59cb\uff0c\u9019\u88e1\u6211\u7528 ",(0,s.jsx)(n.code,{children:"'my_age"})," \u6a19\u8a18\u5b83\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn print_age() {\r\n    let age = 12;            //-----------------+- 'age\r\n                             //                 |\r\n    let my_age = &age;       //-----+- 'my_age  |\r\n                             //     |           |\r\n    println!(\"{}\", my_age);  //     |           |\r\n                             //-----+           |\r\n}                            //-----------------+\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"my_age"})," \u7684\u751f\u547d\u9031\u671f\u6bd4\u8f03\u77ed\uff0c\u56e0\u70ba\u5b83\u5728 ",(0,s.jsx)(n.code,{children:"println!()"})," \u4e4b\u5f8c\u5c31\u6c92\u7528\u5230\u4e86\uff0cRust \u6703\u5728\u9019\u88e1\u5c31\u628a\u5b83 drop \u6389\uff1b\u800c ",(0,s.jsx)(n.code,{children:"age"})," \u8b8a\u6578\u7684\u751f\u547d\u9031\u671f\u7a0d\u5fae\u9577\u4e00\u9ede\uff0c\u4f46\u4e5f\u6d3b\u4e0d\u904e\u9019\u500b\u51fd\u6578\u3002\u5c31\u662f\u56e0\u70ba ",(0,s.jsx)(n.code,{children:"age"})," \u7684\u751f\u547d\u9031\u671f\u6bd4\u8f03\u9577\uff0c\u6240\u4ee5\u7576 ",(0,s.jsx)(n.code,{children:"my_age"})," \u60f3\u8981\u53bb\u501f\u7684\u6642\u5019\uff0cBC \u6703\u5148\u6aa2\u67e5\u9019\u6a23\u6703\u4e0d\u6703\u767c\u751f\u63d0\u65e9\u6d88\u5931\u7684\u60c5\u6cc1\uff0c\u5982\u679c\u4e0d\u6703\u767c\u751f\uff0cRust \u7684\u7de8\u8b6f\u5668\u5c31\u4e0d\u6703\u62b1\u6028\u4e86\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u5011\u518d\u4f86\u770b\u53e6\u5916\u7684\u4f8b\u5b50\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'fn print_age() {\r\n    let my_age;\r\n\r\n    {\r\n        let age = 12;\r\n        my_age = &age;\r\n    }\r\n\r\n    println!("{}", my_age);\r\n\r\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728 Rust \u88e1\u9019\u6a23\u7a81\u7136\u52a0\u4e0a\u5927\u62ec\u865f\u662f ok \u7684\uff0c\u4e0d\u6703\u9020\u6210\u8a9e\u6cd5\u932f\u8aa4\u3002\u5176\u5be6\u5728 JavaScript \u9019\u6a23\u5beb\u4e5f\u4e0d\u6703\u51fa\u932f\uff0c\u53ea\u662f\u6703\u9019\u6a23\u5beb\u7684\u4eba\u53ef\u80fd\u6bd4\u8f03\u5c11\u3002\u4e0d\u7ba1\u5728 JavaScript \u6216 Rust \u90fd\u4e00\u6a23\uff0c\u900f\u904e ",(0,s.jsx)(n.code,{children:"{ }"})," \u9019\u6a23\u7684\u5927\u62ec\u865f\u7684\u5beb\u6cd5\u6703\u505a\u51fa\u4e00\u500b\u7684 Scope \u51fa\u4f86\uff0c\u5728\u9019\u500b Scope \u88e1\u7684\u6771\u897f\u5ba3\u544a\u7684\u8b8a\u6578\u5728\u9019\u500b Block \u7d50\u675f\u4e4b\u5f8c\u5c31\u6703\u6d88\u5931\uff08\u4f46\u5728 JavaScript \u88e1\u7684 ",(0,s.jsx)(n.code,{children:"var"})," \u4e0d\u662f\u9019\u9ebc\u4e00\u56de\u4e8b\uff09\u3002\u4e0d\u540c\u7684\u662f\uff0c\u5728 Rust \u88e1\u9084\u6709\u53c3\u7167\u9019\u56de\u4e8b\uff0c\u6240\u4ee5\u6545\u4e8b\u5c31\u6703\u4e0d\u592a\u4e00\u6a23\u4e86\u3002\u6211\u7528\u4e00\u6a23\u7684\u624b\u6cd5\u628a\u751f\u547d\u9031\u671f\u6a19\u8a18\u51fa\u4f86\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn print_age() {\r\n    let my_age;              //---------------+-- 'my_age \r\n                             //               |\r\n    {                        //               |\r\n        let age = 12;        //------+ 'age   |\r\n        my_age = &age;       //      |        |\r\n    }                        //------+        |\r\n                             //               |\r\n    println!(\"{}\", my_age);  //               |\r\n}                            //---------------+\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u9019\u88e1 ",(0,s.jsx)(n.code,{children:"my_age"})," \u60f3\u8981\u53bb\u53c3\u7167 ",(0,s.jsx)(n.code,{children:"age"}),"\uff0c\u4f46 BC \u767c\u73fe ",(0,s.jsx)(n.code,{children:"age"})," \u7684\u751f\u547d\u9031\u671f\u5728\u5927\u62ec\u865f\u7d50\u675f\u4e4b\u5f8c\u5c31\u8ddf\u8457\u7d50\u675f\u4e86\uff0cRust \u4e0d\u5141\u8a31\u9019\u7a2e\u767d\u9aee\u4eba\u9001\u9ed1\u9aee\u4eba\u7684\u4e8b\u60c5\u767c\u751f\uff0c\u6240\u4ee5\u5728\u7de8\u8b6f\u968e\u6bb5\u5c31\u6703\u76f4\u63a5\u88ab\u64cb\u4e0b\u4f86\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u6709\u8da3\u7684\u662f\uff0c\u5982\u679c\u57f7\u884c\u9019\u6bb5\u7a0b\u5f0f\u78bc\uff0cRust \u7de8\u8b6f\u5668\u7d66\u4f60\u7684\u932f\u8aa4\u8a0a\u606f\u662f\u9019\u6a23\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:'$ cargo run\r\nerror[E0597]: `age` does not live long enough\r\n   |\r\n9  |         let age = 12;\r\n   |             --- binding `age` declared here\r\n10 |         my_age = &age;\r\n   |                  ^^^^ borrowed value does not live long enough\r\n11 |     }\r\n   |     - `age` dropped here while still borrowed\r\n12 |\r\n13 |     println!("{}", my_age);\r\n   |                    ------ borrow later used here\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Rust \u8aaa ",(0,s.jsx)(n.code,{children:"does not live long enough"}),"\uff0c\u610f\u601d\u662f\u5b83\u6d3b\u7684\u4e0d\u5920\u4e45\uff0c\u4e5f\u660e\u78ba\u7684\u6307\u51fa ",(0,s.jsx)(n.code,{children:"age"})," \u5728\u9019\u500b Scope \u4e4b\u5f8c\u5c31\u6703\u88ab drop \u6389\u4e86\u3002\u90a3\u9ebc\u8981\u600e\u9ebc\u8b93\u5b83\u6d3b\u4e45\u4e00\u9ede\uff1f\u9019\u5c31\u662f\u9019\u500b\u7ae0\u7bc0\u8981\u4ecb\u7d39\u7684\u300c\u751f\u547d\u9031\u671f\uff08Lifetime\uff09\u300d\uff0c\u7c21\u55ae\u7684\u8aaa\uff0c\u5c31\u662f\u8981\u8b93\u5b83\u6d3b\u7684\u5920\u4e45\u4f46\u53c8\u4e0d\u6703\u6d3b\u592a\u4e45\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u770b\u5230\u9019\u88e1\u6709\u6c92\u6709\u611f\u89ba\u6709\u5728\u50cf\u5728\u770b JavaScript \u7684 Scope \u7684\u6982\u5ff5\uff1f\u6211\u5011\u518d\u4f86\u770b\u770b\u5982\u679c\u628a\u6771\u897f\u50b3\u9032\u51fd\u6578\u88e1\u7684\u751f\u547d\u9031\u671f\u7684\u8b8a\u5316\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u53c3\u6578\u8207\u56de\u50b3\u503c",children:"\u53c3\u6578\u8207\u56de\u50b3\u503c"}),"\n",(0,s.jsx)(n.p,{children:"\u540c\u6a23\u5148\u4e0a\u7bc4\u4f8b\u7a0b\u5f0f\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'struct Cat {\r\n    name: String,\r\n    age: u8\r\n}\r\n\r\nfn main() {\r\n    let kitty = Cat { name: "Kitty".to_string(), age: 12 };\r\n    let nancy = Cat { name: "Nancy".to_string(), age: 16 };\r\n\r\n    let boss = boss_cat(&kitty, &nancy);\r\n    println!("{}", boss.name);\r\n}\r\n\r\nfn boss_cat(c1: &Cat, c2: &Cat) -> &Cat {\r\n    if c1.age > c2.age {\r\n        c1\r\n    } else {\r\n        c2\r\n    }\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u7a0b\u5f0f\u78bc\u672c\u8eab\u61c9\u8a72\u4e0d\u96e3\u7406\u89e3 ",(0,s.jsx)(n.code,{children:"boss_cat"})," \u6703\u63a5\u53d7 2 \u500b ",(0,s.jsx)(n.code,{children:"Cat"})," \u7684\u53c3\u7167\uff0c\u6bd4\u8f03\u5b83\u5011\u7684\u5e74\u7d00\u4e4b\u5f8c\uff0c\u56de\u50b3\u6bd4\u8f03\u8001\u7684\u90a3\u96bb\u7576\u8001\u5927\u3002\u5982\u679c\u7528\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u7684\u89d2\u5ea6\u4f86\u770b\u6c92\u4ec0\u9ebc\u554f\u984c\uff0c\u4f46\u5728 Rust \u7684 BC \u773c\u88e1\u5c31\u4e0d\u662f\u9019\u6a23\u4e86\uff0c\u5148\u8b93\u6211\u5011\u57f7\u884c\u5b83\u770b\u770b\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"$ cargo run\r\nerror[E0106]: missing lifetime specifier\r\n   |\r\n14 | fn boss_cat(c1: &Cat, c2: &Cat) -> &Cat {\r\n   |                 ----      ----     ^ expected named lifetime parameter\r\n   |\r\n   = help: this function's return type contains a borrowed value, but the signature does not say whether it is borrowed from `c1` or `c2`\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u51fa\u932f\u4e86\uff0c\u7de8\u8b6f\u5931\u6557\uff01\u5148\u4e0d\u7ba1\u90a3\u500b ",(0,s.jsx)(n.code,{children:"named lifetime parameter"}),"\uff0c\u6211\u5011\u5148\u770b\u770b\u5e95\u4e0b\u90a3\u6bb5 help \u7684\u8aaa\u660e\uff1a"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["this function's return type contains a borrowed value, but the signature does not say whether it is borrowed from ",(0,s.jsx)(n.code,{children:"c1"})," or ",(0,s.jsx)(n.code,{children:"c2"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u56e0\u70ba\u56de\u50b3\u503c\u662f\u4e00\u7a2e\u53c3\u7167\uff0c\u4f46 Rust \u731c\u4e0d\u51fa\u4f86\u5230\u5e95\u662f\u6703\u56de\u50b3\u54ea\u4e00\u500b\u53c3\u7167\u3002\u4f60\u53ef\u80fd\u6703\u597d\u5947\u9019\u6703\u6709\u4ec0\u9ebc\u554f\u984c\uff1f\u53cd\u6b63\u4e0d\u662f ",(0,s.jsx)(n.code,{children:"c1"})," \u5c31\u662f ",(0,s.jsx)(n.code,{children:"c2"})," \u4e0d\u662f\u55ce\uff1f"]}),"\n",(0,s.jsxs)(n.p,{children:["Rust \u662f\u500b\u76f8\u5c0d\u56b4\u8b39\u7684\u7a0b\u5f0f\u8a9e\u8a00\uff0c\u5b83\u5fc5\u9808\u6e05\u695a\u7684\u77e5\u9053\u6bcf\u500b\u8b8a\u6578\u7684\u751f\u547d\u9031\u671f\uff0c\u4e0d\u80fd\u6709\u4e0d\u78ba\u5b9a\u6027\uff0c\u5728\u4e0a\u9762\u7684\u7bc4\u4f8b\u4e2d\uff0c",(0,s.jsx)(n.code,{children:"kitty"})," \u8ddf ",(0,s.jsx)(n.code,{children:"nancy"})," \u7684\u751f\u547d\u9031\u671f\u5f88\u660e\u78ba\uff0c\u4f46 ",(0,s.jsx)(n.code,{children:"boss"})," \u7684\u751f\u547d\u9031\u671f\u5c31\u4e0d\u662f\u4e86\uff0c\u9047\u5230\u9019\u7a2e\u4e0d\u78ba\u5b9a\u7684\u6642\u5019\uff0cRust \u7684 BC \u9078\u64c7\u5be7\u53ef\u932f\u6bba\u4e00\u767e\u4e5f\u4e0d\u80fd\u653e\u904e\u4e00\u4eba\uff0c\u76f4\u63a5\u5c31\u628a\u7de8\u8b6f\u505c\u6389\u4e86\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5176\u5be6\u5e73\u5e38\u6c92\u4e8b\u53ef\u4ee5\u4e0d\u7528\u7279\u5225\u6a19\u8a18\u751f\u547d\u9031\u671f\uff08\u4f60\u8981\u5beb\u4e5f\u884c\uff0c\u53ea\u662f\u6c92\u5fc5\u8981\uff09\uff0c\u4f46\u56e0\u70ba\u9019\u88e1\u7684\u751f\u547d\u9031\u671f\u6709\u4e9b\u4e0d\u78ba\u5b9a\u6027\uff0c\u6240\u4ee5\u4f60\u5c31\u8981\u76f4\u767d\u7684\u544a\u8a34 BC \u9019\u4e9b\u6771\u897f\u7684\u751f\u547d\u9031\u671f\u6703\u6d3b\u591a\u4e45\uff0c\u539f\u672c\u7684 ",(0,s.jsx)(n.code,{children:"boss_cat()"})," \u51fd\u6578\u8981\u6539\u4e00\u4e0b\u5b83\u7684\u5beb\u6cd5..."]}),"\n",(0,s.jsx)(n.h2,{id:"\u751f\u547d\u9031\u671f\u6a19\u8a18lifetime-annotation",children:"\u751f\u547d\u9031\u671f\u6a19\u8a18\uff08Lifetime Annotation\uff09"}),"\n",(0,s.jsx)(n.p,{children:"\u70ba\u4e86\u544a\u8a34 BC \u751f\u547d\u9031\u671f\uff0c\u6211\u5011\u5f97\u5728\u51fd\u6578\u8ddf\u53c3\u6578\u7684\u5730\u65b9\u52a0\u4e0a\u4e00\u4e9b\u5947\u602a\u7684\u6a19\u8a18\uff0c\u7a31\u4e4b\u300c\u751f\u547d\u9031\u671f\u6a19\u8a18\u300d\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn boss_cat<'a>(c1: &'a Cat, c2: &'a Cat) -> &'a Cat {\r\n    if c1.age > c2.age {\r\n        c1\r\n    } else {\r\n        c2\r\n    }\r\n}\r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u88e1\u6709\u4e00\u4e9b\u9700\u8981\u7279\u5225\u8aaa\u660e\u7684\uff1a"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"boss_cat<'a>"})," \u5f8c\u9762\u7684 ",(0,s.jsx)(n.code,{children:"'a"})," \u5c31\u662f\u751f\u547d\u9031\u671f\u6a19\u8a18\u7684\u5beb\u6cd5\uff0c\u5b83\u662f\u4f7f\u7528\u300c\u4e00\u500b\u55ae\u5f15\u865f\u300d\u5f8c\u9762\u642d\u914d\u4efb\u4f55\u5c0f\u5beb\u5b57\u6bcd\uff08\u7528\u5927\u5beb\u4e5f\u884c\uff0c\u4f46 Rust \u6703\u5efa\u8b70\u4f60\u4e0d\u8981\u9019\u6a23\u5beb\uff09\uff0c\u4f46\u5982\u679c\u4f60\u60f3\u7528 ",(0,s.jsx)(n.code,{children:"'rust_is_awesome"})," \u4f86\u6a19\u8a18\u4e5f\u4e0d\u6703\u6709\u4eba\u7ba1\u4f60\uff0c\u53ea\u662f\u5e38\u770b\u5230\u7684\u6703\u7528 ",(0,s.jsx)(n.code,{children:"'a"})," \u7c21\u55ae\u5e36\u904e\u5c31\u597d\u3002\u5982\u679c\u5728\u540c\u4e00\u500b\u51fd\u6578\u88e1\u9700\u8981\u591a\u500b\u6a19\u8a18\u7684\u8a71\uff0c\u901a\u5e38\u6703\u7528 ",(0,s.jsx)(n.code,{children:"'b"}),"\u3001",(0,s.jsx)(n.code,{children:"'c"})," \u9019\u6a23\u4e00\u500b\u4e00\u500b\u63a5\u8457\u7528\u3002\u5594\uff0c\u5fd8\u4e86\u8aaa\uff0c\u96d6\u7136\u6a19\u8a18\u540d\u7a31\u53ef\u4ee5\u7528\u4efb\u4f55\u7684\u5b57\u6bcd\u7d44\u5408\uff0c\u4f46 ",(0,s.jsx)(n.code,{children:"'static"})," \u4f8b\u5916\uff0c\u5b83\u662f\u4e00\u500b\u7279\u5225\u7684\u751f\u547d\u9031\u671f\u6a19\u8a18\uff0c\u5b83\u8868\u793a\u751f\u547d\u9031\u671f\u5c07\u6301\u7e8c\u6574\u500b\u7a0b\u5f0f\uff0c\u76f4\u5230\u7a0b\u5f0f\u7d50\u675f\u70ba\u6b62\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"boss_cat<'a>"})," \u7684 ",(0,s.jsx)(n.code,{children:"<>"})," \u662f\u300c\u6cdb\u578b\uff08Generics\uff09\u300d\u7684\u5beb\u6cd5\uff0c\u9019\u5728\u5f8c\u9762\u7684\u7ae0\u7bc0\u6703\u518d\u8aaa\u660e\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"c1: &'a Cat"})," \u8ddf ",(0,s.jsx)(n.code,{children:"c2: &'a Cat"})," \u662f\u6a19\u8a18\u9019\u5169\u500b\u7684\u53c3\u7167\u7684\u751f\u547d\u9031\u671f\u662f\u4e00\u6a23\u7684\uff0c\u9019\u88e1\u7684 ",(0,s.jsx)(n.code,{children:"'a"})," \u4e0d\u662f\u96a8\u4fbf\u60f3\u600e\u9ebc\u5beb\u5c31\u600e\u9ebc\u5beb\uff0c\u5f97\u5728\u9762\u524d\u7684 ",(0,s.jsx)(n.code,{children:"<'a>"})," \u88e1\u6709\u5927\u5bb6\u5148\u8b1b\u597d\u4ec0\u9ebc\u662f ",(0,s.jsx)(n.code,{children:"'a"})," \u624d\u884c\uff0c\u4e0d\u7136\u9019\u88e1\u7a81\u7136\u4f86\u500b ",(0,s.jsx)(n.code,{children:"'b"})," \u6703\u51fa\u932f\u7684\u3002"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"-> &'a Cat"})," \u5c31\u662f\u6a19\u8a18\u56de\u50b3\u7684\u9019\u500b\u53c3\u7167\u7684\u751f\u547d\u9031\u671f\u4e5f\u4e00\u6a23\u662f ",(0,s.jsx)(n.code,{children:"'a"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["\u52a0\u4e0a\u6a19\u8a18\u4e4b\u5f8c\uff0c\u56de\u50b3\u7684\u53c3\u7167\u4e0d\u7ba1\u662f ",(0,s.jsx)(n.code,{children:"c1"})," \u9084\u662f ",(0,s.jsx)(n.code,{children:"c2"})," \uff0cRust \u7684 BC \u90fd\u80fd\u78ba\u4fdd\u5b83\u7684\u751f\u547d\u9031\u671f\u8ddf\u50b3\u9032\u53bb\u7684\u53c3\u7167\u662f\u4e00\u6a23\u7684\uff0c\u53ea\u8981\u6709\u660e\u78ba\u7684\u751f\u547d\u9031\u671f\uff0c\u7de8\u8b6f\u7684\u6642\u5019\u5c31\u6703\u653e\u884c\u4e86\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u4ec0\u9ebc\u6642\u5019\u4e0d\u7528\u6a19\u8a18",children:"\u4ec0\u9ebc\u6642\u5019\u4e0d\u7528\u6a19\u8a18\uff1f"}),"\n",(0,s.jsx)(n.p,{children:"\u4f60\u53ef\u80fd\u6703\u767c\u73fe\u70ba\u4ec0\u9ebc\u524d\u9762\u5e7e\u7ae0\u7684\u7bc4\u4f8b\u7a0b\u5f0f\u78bc\u4e0d\u7528\u9019\u9ebc\u9ebb\u7169\uff1f\u5176\u5be6 Rust \u7684 BC \u5982\u679c\u731c\u7684\u51fa\u660e\u78ba\u7684\u751f\u547d\u9031\u671f\uff0c\u5c31\u7b97\u6c92\u7279\u5225\u6a19\u8a18\u4e5f\u6c92\u554f\u984c\uff0c\u751f\u547d\u9031\u671f\u6a19\u8a18\u53ea\u9700\u8981\u5728 BC \u770b\u4e0d\u61c2\u7684\u6642\u5019\u624d\u9700\u8981\u624b\u52d5\u88dc\u7d66\u5b83\u3002\u4f46\u54ea\u4e9b\u6642\u5019\u8981\u5beb\uff0c\u53c8\u54ea\u4e9b\u6642\u5019\u4e0d\u7528\u5beb\uff1f"}),"\n",(0,s.jsxs)(n.h4,{id:"1-\u51fd\u6578\u88e1\u7684\u53c3\u6578\u662f--\u53c3\u7167\u4f46\u56de\u50b3\u503c\u4e0d\u662f\u53c3\u7167",children:["1. \u51fd\u6578\u88e1\u7684\u53c3\u6578\u662f ",(0,s.jsx)(n.code,{children:"&"})," \u53c3\u7167\uff0c\u4f46\u56de\u50b3\u503c\u4e0d\u662f\u53c3\u7167\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'fn calc_total_age(c1: &Cat, c2: &Cat) -> u8 {\r\n    c1.age + c2.age\r\n}\r\n\r\nlet total_age = calc_total_age(&kitty, &nancy);\r\nprintln!("{}", total_age);\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5f88\u660e\u986f\u5b83\u7684\u56de\u50b3\u503c\u8ddf\u53c3\u7167\u7121\u95dc\uff0c\u6240\u4ee5\u8b8a\u6578 ",(0,s.jsx)(n.code,{children:"total_age"})," \u7684\u751f\u547d\u9031\u671f\u5f88\u78ba\u5b9a\uff0c\u9019\u6a23\u53ef\u4ee5\u4e0d\u5beb\u6c92\u95dc\u4fc2\uff0cRust \u6703\u5e6b\u4f60\u8166\u88dc\uff0c\u9019\u7a2e\u578b\u614b\u61c9\u8a72\u5c31\u662f\u6211\u5011\u5728\u524d\u9762\u5e7e\u500b\u7ae0\u7bc0\u5e38\u770b\u5230\u7684\u5beb\u6cd5\u3002\u4f46\u5982\u679c\u4f60\u60f3\u8981\u5beb\u4e5f\u884c\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn calc_total_age<'b>(c1: &'b Cat, c2: &'b Cat) -> u8 {\r\n    c1.age + c2.age\r\n}\r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f46\u6211\u500b\u4eba\u8a8d\u70ba\u751f\u547d\u9031\u671f\u6a19\u8a18\u4e0d\u53ea\u4e0d\u597d\u5beb\uff0c\u800c\u4e14\u770b\u8d77\u4f86\u9084\u6eff\u919c\u7684\uff0c\u80fd\u5920\u4e0d\u5beb\u5c31\u76e1\u91cf\u4e0d\u5beb\u3002"}),"\n",(0,s.jsxs)(n.h4,{id:"2-\u53ea\u6709\u5176\u4e2d\u4e00\u500b\u53c3\u6578\u662f-\u53c3\u7167\u800c\u4e14\u56de\u50b3\u503c\u4e5f\u662f--\u53c3\u7167",children:["2. \u53ea\u6709\u5176\u4e2d\u4e00\u500b\u53c3\u6578\u662f ",(0,s.jsx)(n.code,{children:"&"}),"\u53c3\u7167\uff0c\u800c\u4e14\u56de\u50b3\u503c\u4e5f\u662f ",(0,s.jsx)(n.code,{children:"& "}),"\u53c3\u7167\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'fn set_age(c: &mut Cat, new_age: u8) -> &Cat {\r\n    c.age = new_age;\r\n    c\r\n}\r\n\r\nlet mut mary = Cat { name: "Mary".to_string(), age: 18 };\r\nlet new_mary = set_age(&mut mary, 20);\r\nprintln!("{}", new_mary.age);  // \u5370\u51fa 20\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u4e0a\u9762\u7684\u7bc4\u4f8b\u4e2d\uff0c ",(0,s.jsx)(n.code,{children:"set_age()"})," \u51fd\u6578\u88e1\u5e36\u4e86\u4e00\u500b ",(0,s.jsx)(n.code,{children:"&mut"})," \u7684\u53c3\u7167\u4ee5\u53ca\u4e00\u500b ",(0,s.jsx)(n.code,{children:"u8"})," \u6574\u6578\uff0c\u7136\u5f8c\u56de\u50b3\u7684\u578b\u5225\u4e5f\u525b\u597d\u662f\u5e36\u9032\u4f86\u7684\u90a3\u500b\u53c3\u6578\uff0c\u9019\u9ebc\u4e00\u4f86\u53c3\u6578\u8ddf\u56de\u50b3\u503c\u7684\u751f\u547d\u9031\u671f\u4e00\u5b9a\u662f\u4e00\u6a23\u7684\uff0c\u6240\u4ee5\u5c31\u4ee5\u4e0a\u9762\u9019\u500b\u4f8b\u5b50 ",(0,s.jsx)(n.code,{children:"new_mary"})," \u7684\u751f\u547d\u9031\u671f\u4e5f\u5f88\u6e05\u695a\uff0c\u4e0d\u6703\u6709\u4e0d\u78ba\u5b9a\u6027\uff0c\u6240\u4ee5\u5728\u9019\u7a2e\u60c5\u6cc1\u4e0b\u4e0d\u5beb\u4e5f\u884c\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u9806\u4fbf\u63d0\u4e00\u4e0b\uff0c\u5982\u679c ",(0,s.jsx)(n.code,{children:"&mut"})," \u53c3\u7167\u540c\u6642\u53c8\u8981\u52a0\u6a19\u8a18\u7684\u8a71\uff0c\u5beb\u8d77\u4f86\u6703\u8b8a\u6210\u9019\u6a23\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn set_age<'c>(c: &'c mut Cat, new_age: u8) -> &'c Cat {\r\n    // ... \u7565 ...\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"&'c mut Cat"})," \u5148\u5beb\u6a19\u8a18\uff0c\u63a5\u8457\u624d\u662f ",(0,s.jsx)(n.code,{children:"mut"}),"\u3002"]}),"\n",(0,s.jsx)(n.h4,{id:"3-\u53ea\u6709\u552f\u4e00\u4e00\u500b\u53c3\u7167\u53c3\u6578",children:"3. \u53ea\u6709\u552f\u4e00\u4e00\u500b\u53c3\u7167\u53c3\u6578"}),"\n",(0,s.jsxs)(n.p,{children:["\u50cf\u9019\u6a23\uff0c\u9019\u500b ",(0,s.jsx)(n.code,{children:"print_cat()"})," \u51fd\u6578\u53ea\u5e36\u4e00\u500b\u53c3\u7167\u53c3\u6578\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'fn print_cat(c: &Cat) {\r\n    println!("{}", c.name);\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u53ea\u6709\u4e00\u500b\u53c3\u7167\u53c3\u6578\u7684\u60c5\u6cc1\u4e0b\uff0c\u4e0d\u7ba1 ",(0,s.jsx)(n.code,{children:"print_cat()"})," \u7684\u56de\u50b3\u503c\u662f\u53c3\u7167\u6216\u662f\u975e\u53c3\u7167\uff0c\u6216\u751a\u81f3\u6c92\u6709\u56de\u50b3\u503c\u90fd\u7121\u6240\u8b02\uff0cBC \u90fd\u80fd\u770b\u660e\u78ba\u7684\u77e5\u9053\u751f\u547d\u9031\u671f\uff0c\u6240\u4ee5\u4e5f\u53ef\u4ee5\u4e0d\u7528\u7279\u5225\u52a0\u4e0a\u6a19\u8a18\u3002\u4f46\u5982\u679c\u4f60\u89ba\u5f97\u52a0\u4e0a\u6a19\u8a18\u6bd4\u8f03\u9177\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn print_cat<'awesome>(c: &'awesome Cat) {\r\n    println!(\"{}\", c.name);\r\n}\r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u8981\u52a0\u4e0a\u53bb\u4e5f\u662f\u53ef\u4ee5\u7684\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u591a\u500b\u751f\u547d\u9031\u671f\u53c3\u6578",children:"\u591a\u500b\u751f\u547d\u9031\u671f\u53c3\u6578"}),"\n",(0,s.jsxs)(n.p,{children:["\u5047\u5982\u540c\u4e00\u500b\u51fd\u6578\u7684\u53c3\u6578\u6709\u4e0d\u540c\u7684\u751f\u547d\u9031\u671f\uff0c\u81ea\u7136\u5c31\u4e0d\u80fd\u7528\u4e00\u500b ",(0,s.jsx)(n.code,{children:"'a"})," \u5beb\u5230\u5e95\uff0c\u53ef\u4ee5\u5728\u524d\u9762\u7684\u6cdb\u578b\u88e1\u5148\u591a\u5b9a\u7fa9\u4e00\u500b ",(0,s.jsx)(n.code,{children:"'b"}),"\uff0c\u7136\u5f8c\u5728\u5f8c\u9762\u4f7f\u7528\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn boss_cat<'a, 'b>(c1: &'a Cat, c2: &'b Cat) -> &'a Cat {\r\n    if c1.age > c2.age {\r\n        c1\r\n    } else {\r\n        c2\r\n    }\r\n}\r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4f46\u9019\u500b\u57f7\u884c\u6703\u767c\u751f\u932f\u8aa4\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"$ cargo run\r\nerror: lifetime may not live long enough\r\n   |\r\n30 | fn boss_cat<'a, 'b>(c1: &'a Cat, c2: &'b Cat) -> &'a Cat {\r\n   |             --  -- lifetime `'b` defined here\r\n   |             |\r\n   |             lifetime `'a` defined here\r\n...\r\n34 |         c2\r\n   |         ^^ function was supposed to return data with lifetime `'a` but it is returning data with lifetime `'b`\r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7c21\u55ae\u7684\u8aaa\u5c31\u662f BC \u9084\u662f\u4e0d\u80fd\u78ba\u5b9a\u5230\u5e95\u56de\u50b3\u56de\u4f86\u7684\u751f\u547d\u9031\u671f\u662f\u54ea\u4e00\u500b\uff0c\u6240\u4ee5\u9019\u88e1\u53ef\u4ee5\u8996\u60c5\u6cc1\u9019\u6a23\u6539\u5beb\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn boss_cat<'a, 'b: 'a>(c1: &'a Cat, c2: &'b Cat) -> &'a Cat {\r\n    // ... \u7565 ...\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u88e1\u7684 ",(0,s.jsx)(n.code,{children:"'b: 'a"})," \u7684\u610f\u601d\u662f ",(0,s.jsx)(n.code,{children:"'a"})," \u7684\u751f\u547d\u9031\u671f\u6703\u5927\u65bc\u7b49\u65bc\uff08\u6216\u5305\u62ec\uff09 ",(0,s.jsx)(n.code,{children:"'b"})," \u7684\u751f\u547d\u9031\u671f\uff0c\u6240\u4ee5\u4e0d\u7ba1\u662f\u56de\u50b3 ",(0,s.jsx)(n.code,{children:"'a"})," \u6216 ",(0,s.jsx)(n.code,{children:"'b"})," \u90fd\u4e0d\u6703\u767c\u751f\u524d\u9762\u63d0\u5230\u7684\u767d\u9aee\u4eba\u9001\u9ed1\u9aee\u4eba\u7684\u60c5\u6cc1\uff0c\u9019\u6a23 Rust \u7684\u7de8\u8b6f\u5668\u5c31\u6703\u7d66\u904e\u4e86\u3002\u53ea\u662f\u5728\u9019\u6a23\u5beb\u4e4b\u524d\uff0c\u4e5f\u8a31\u53ef\u4ee5\u5148\u60f3\u60f3\uff0c\u662f\u5426\u771f\u7684\u9700\u8981\u591a\u500b\u4e0d\u540c\u7684\u6a19\u8a18\uff1f\u9084\u662f\u5176\u5be6\u50b3\u9032\u4f86\u7684\u53c3\u7167\u4ed6\u5011\u90fd\u5728\u540c\u4e00\u500b Scope\uff0c\u5982\u679c\u662f\u7684\u8a71\u4e5f\u4e0d\u9700\u8981\u7528\u591a\u500b\u4e0d\u540c\u7684\u6a19\u8a18\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u751f\u547d\u9031\u671f\u901a\u5e38\u662f\u5b78\u7fd2 Rust \u7684\u65b0\u624b\uff0c\u5305\u62ec\u6211\u81ea\u5df1\uff0c\u751f\u547d\u9031\u671f\u61c9\u8a72\u662f\u5728\u6240\u6709\u6b0a\uff08Ownership\uff09\u4e4b\u5f8c\u6703\u9047\u5230\u7b2c\u4e8c\u500b\u9580\u6abb\uff0c\u9019\u5728\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u5f88\u5c11\u770b\u5230\u9019\u6a23\u7684\u8a2d\u8a08\uff0c\u6240\u4ee5\u904e\u53bb\u7684\u7a0b\u5f0f\u7d93\u9a57\u5728\u9019\u88e1\u53ef\u80fd\u4e0d\u592a\u80fd\u6d3e\u4e0a\u7528\u5834\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u53ea\u8981\u6709\u7528\u5230\u53c3\u7167\u6216\u5207\u7247\uff0c\u5c31\u6703\u9700\u8981\u591a\u60f3\u60f3\u751f\u547d\u9031\u671f\u7684\u554f\u984c\uff08\u5728 Rust \u88e1\u53c3\u7167\u8ddf\u5207\u7247\u7528\u5f88\u5147\uff09\u3002\u4e00\u958b\u59cb\u61c9\u8a72\u6703\u5f88\u4e0d\u7fd2\u6163\uff0c\u4e0d\u53ea\u5728\u8a9e\u6cd5\u4e0a\u8ddf\u4e4b\u524d\u7684\u7a0b\u5f0f\u7de8\u5beb\u6163\u4f8b\u4e0a\u90fd\u662f\u3002\u4e5f\u662f\u807d\u904e\u6709\u4e9b\u4eba\u6703\u8aaa\u5982\u679c\u9047\u5230\u7de8\u8b6f\u4e0d\u904e\u5c31\u7d66\u5b83\u52a0\u4e0a ",(0,s.jsx)(n.code,{children:"'a"})," \u53ef\u80fd\u5c31\u6703\u904e\u4e86\uff0c\u6216\u662f\u4e7e\u8106\u4e0d\u8981\u50b3\u53c3\u7167\uff0c\u76f4\u63a5\u7528 ",(0,s.jsx)(n.code,{children:".clone()"})," \u50b3\u500b\u8907\u88fd\u54c1\u7d66\u5b83\uff0c\u4f46\u5982\u679c\u80fd\u7406\u89e3\u70ba\u4ec0\u9ebc Rust \u7684 BC \u6703\u9019\u9ebc\u9f9c\u6bdb\u3001\u4e86\u89e3\u751f\u547d\u9031\u671f\u7684\u904a\u6232\u898f\u5247\u7684\u8a71\uff0c\u61c9\u8a72\u5c31\u6703\u77e5\u9053\u6a19\u8a18\u4ec0\u9ebc\u8a72\u5beb\u3001\u4ec0\u9ebc\u6642\u5019\u4e0d\u7528\u5beb\u3002\u591a\u4e86\u89e3\u7d30\u7bc0\uff0c\u624d\u80fd\u767c\u63ee Rust \u9019\u500b\u7a0b\u5f0f\u8a9e\u8a00\u771f\u6b63\u7684\u5a01\u529b\u3002"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>i});var c=r(6540);const s={},t=c.createContext(s);function a(e){const n=c.useContext(t);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),c.createElement(t.Provider,{value:n},e.children)}}}]);