"use strict";(globalThis.webpackChunkmy_blog=globalThis.webpackChunkmy_blog||[]).push([[2449],{0:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"\u5b78\u7fd2/rust/rustbasic/rust_\u5217\u8209_Enum","title":"15-rust_\u5217\u8209_Enum","description":"_\u5217\u8209_Enum","source":"@site/docs/\u5b78\u7fd2/rust/rustbasic/15-rust_\u5217\u8209_Enum.md","sourceDirName":"\u5b78\u7fd2/rust/rustbasic","slug":"/\u5b78\u7fd2/rust/rustbasic/rust_\u5217\u8209_Enum","permalink":"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u5217\u8209_Enum","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":15,"frontMatter":{"\uff03id":"doc-markdown","title":"15-rust_\u5217\u8209_Enum","description":"_\u5217\u8209_Enum","keywords":["rust"],"last_update":{"date":"4/17/2024","author":"ttom"}},"sidebar":"tutorialSidebar","previous":{"title":"14-rust_\u7279\u5fb5_Trait","permalink":"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u7279\u5fb5_Trait"},"next":{"title":"16-rust_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805","permalink":"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805"}}');var s=e(4848),i=e(8453);const c={"\uff03id":"doc-markdown",title:"15-rust_\u5217\u8209_Enum",description:"_\u5217\u8209_Enum",keywords:["rust"],last_update:{date:"4/17/2024",author:"ttom"}},a=void 0,d={},l=[{value:"\u5efa\u7acb\u5217\u8209",id:"\u5efa\u7acb\u5217\u8209",level:2},{value:"\u8b8a\u9ad4\u9084\u80fd\u5e36\u53c3\u6578\uff01",id:"\u8b8a\u9ad4\u9084\u80fd\u5e36\u53c3\u6578",level:2},{value:"Enum vs Struct",id:"enum-vs-struct",level:2},{value:"\u76f8\u540c",id:"\u76f8\u540c",level:3},{value:"\u4e0d\u540c\uff1a",id:"\u4e0d\u540c",level:3},{value:"\u4f7f\u7528\u6642\u6a5f",id:"\u4f7f\u7528\u6642\u6a5f",level:3}];function u(n){const r={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.p,{children:["\u300c\u5217\u8209\uff08Enum\uff09\u300d\u4e26\u4e0d\u662f\u4ec0\u9ebc\u5f88\u65b0\u6216\u5f88\u7279\u5225\u7684\u8a2d\u8a08\uff0c\u5728\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u4e5f\u5e38\u898b\uff0c\u5217\u8209\u662f\u7528\u4f86\u8868\u793a\u67d0\u7a2e\u7279\u5b9a\u985e\u578b\u7684\u503c\u96c6\u5408\uff0c\u901a\u5e38\u6703\u8981\u628a\u540c\u6a23\u985e\u578b\u7684\u6771\u897f\u653e\u5728\u4e00\u8d77\uff08\u4f8b\u5982\u984f\u8272 ",(0,s.jsx)(r.code,{children:"Color"}),"\uff09\uff0c\u4e26\u4e14\u7d66\u5b83\u500b\u540d\u5b57\uff08",(0,s.jsx)(r.code,{children:"Red"}),"\u3001",(0,s.jsx)(r.code,{children:"Green"})," \u6216 ",(0,s.jsx)(r.code,{children:"Blue"}),"\uff09\u3002\u5728\u7a0b\u5f0f\u78bc\u88e1\u4f7f\u7528 Enum \u7684\u6642\u5019\u6bd4\u8f03\u4e0d\u6703\u56e0\u70ba\u4e0d\u5c0f\u5fc3\u6253\u932f\u5b57\u800c\u9020\u6210\u932f\u8aa4\uff0c\u540c\u6642\u7a0b\u5f0f\u78bc\u7684\u53ef\u8b80\u6027\u4e5f\u6703\u6bd4\u8f03\u597d\u3002"]}),"\n",(0,s.jsx)(r.p,{children:"\u4f46 Rust \u7684 Enum \u529f\u80fd\u9664\u4e86\u628a\u9805\u76ee\u5217\u51fa\u4f86\u4e4b\u5916\uff0c\u9084\u6709\u4e00\u4e9b\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u7684 Enum \u6240\u6c92\u6709\u7684\u3002"}),"\n",(0,s.jsx)(r.h2,{id:"\u5efa\u7acb\u5217\u8209",children:"\u5efa\u7acb\u5217\u8209"}),"\n",(0,s.jsxs)(r.p,{children:["\u5728 Rust \u53ef\u4ee5\u4f7f\u7528\u5c0f\u5beb\u7684 ",(0,s.jsx)(r.code,{children:"enum"})," \u95dc\u9375\u5b57\u5efa\u7acb\u5217\u8209\uff1a"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:"enum CatBreed {\r\n    Persian,           // \u6ce2\u65af\u8c93\r\n    AmericanShorthair, // \u7f8e\u570b\u77ed\u6bdb\u8c93\r\n    Mix,               // \u7c73\u514b\u65af\r\n}\n"})}),"\n",(0,s.jsxs)(r.p,{children:["\u5728\u5217\u8209\u88e1\u9762\u7684\u6771\u897f\u6c92\u6709\u9650\u5b9a\u6578\u91cf\uff0c\u5728 Enum \u88e1\u90a3\u4e9b\u770b\u8d77\u4f86\u50cf\u5c6c\u6027\u6216\u6b04\u4f4d\u7684\u6771\u897f\u53eb\u505a\u300c\u8b8a\u9ad4\uff08Variants\uff09\u300d\u3002\u4e0d\u7ba1\u662f Enum \u672c\u8eab\u7684\u6216\u662f\u8b8a\u9ad4\u7684\u547d\u540d\u6163\u4f8b\uff0cRust \u90fd\u662f\u5efa\u8b70\u4f60\u4f7f\u7528\u99dd\u5cf0\u5f0f\u547d\u540d\u6cd5\u3002\u9019\u88e1\u6211\u5efa\u7acb\u4e86\u500b\u540d\u70ba ",(0,s.jsx)(r.code,{children:"CatBreed"})," \u7684 Enum\uff0c\u88e1\u9762\u6709\u6ce2\u65af\u8c93\u3001\u7f8e\u570b\u77ed\u6bdb\u8c93\u4ee5\u53ca\u6df7\u7a2e\u7684\u7c73\u514b\u65af\u3002"]}),"\n",(0,s.jsx)(r.p,{children:"\u5982\u679c\u8981\u4f7f\u7528\u5b9a\u7fa9\u597d\u7684 Enum\uff0c\u9700\u9023\u540d\u5e36\u59d3\u4e00\u8d77\u7528\uff1a"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:"let breed = CatBreed::Persian;\r\n\n"})}),"\n",(0,s.jsxs)(r.p,{children:["\u4e2d\u9593\u662f 2 \u500b\u5192\u865f ",(0,s.jsx)(r.code,{children:"::"}),"\u3002\u4ee5\u5f80\u4f7f\u7528 ",(0,s.jsx)(r.code,{children:'let breed = "persian"'})," \u9019\u6a23\u7684\u5b57\u4e32\u5beb\u6cd5\u4e00\u4e0d\u5c0f\u5fc3\u5beb\u932f\u53ef\u80fd\u4e0d\u5bb9\u6613\u767c\u73fe\uff0c\u4f46\u7528 Enum \u7684\u597d\u8655\u5c31\u662f\u53ea\u8981\u6253\u932f\u4e00\u9ede\u9ede\uff0c\u99ac\u4e0a\u5c31\u6703\u88ab\u6311\u51fa\u4f86\u3002"]}),"\n",(0,s.jsxs)(r.p,{children:["\u901a\u5e38\u6709 Enum \u4e4b\u5f8c\uff0c\u5728\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u901a\u5e38\u5c31\u6703\u7528\u5b83\u518d\u642d\u914d ",(0,s.jsx)(r.code,{children:"if..else"})," \u6216 ",(0,s.jsx)(r.code,{children:"switch"})," \u6839\u64da\u4e0d\u540c\u7684\u8b8a\u9ad4\u800c\u6709\u4e0d\u540c\u7684\u6d41\u7a0b\u3002\u4e0d\u904e\u5728 Rust \u4e26\u6c92\u6709 ",(0,s.jsx)(r.code,{children:"switch"})," \u7684\u5beb\u6cd5\uff0c\u5012\u662f\u6709 ",(0,s.jsx)(r.code,{children:"match"})," \u53ef\u4ee5\u7528\uff0c\u5b83\u5beb\u8d77\u4f86\u8ddf ",(0,s.jsx)(r.code,{children:"switch"})," \u6709\u9ede\u50cf\uff0c\u4f46\u6709\u6211\u500b\u4eba\u5f88\u559c\u6b61\u7684\u300c\u6a21\u5f0f\u5339\u914d\uff08Pattern Matching\uff09\u300d\u529f\u80fd\uff1a"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'let breed = CatBreed::Persian;\r\n\r\nmatch breed {\r\n    CatBreed::Persian => {\r\n        println!("\u6211\u662f\u6ce2\u65af\u8c93");\r\n    }\r\n\r\n    CatBreed::AmericanShorthair => {\r\n        println!("\u6211\u662f\u7f8e\u570b\u77ed\u6bdb\u8c93");\r\n    }\r\n\r\n    CatBreed::Mix => {\r\n        println!("\u6211\u662f\u7c73\u514b\u65af");\r\n    }\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(r.p,{children:["\u4f7f\u7528 ",(0,s.jsx)(r.code,{children:"match"})," \u7684\u6642\u5019\uff0c\u5982\u679c\u5206\u652f\uff08Branch\uff09\u6709\u5927\u62ec\u865f\u5305\u8d77\u4f86\u7684\u8a71\uff0c\u6bcf\u500b\u5206\u652f\u4e4b\u9593\u53ef\u4ee5\u4e0d\u9700\u8981\u52a0\u9017\u865f\uff0c\u5982\u679c\u5206\u652f\u7684\u5167\u5bb9\u6bd4\u8f03\u7c21\u55ae\u53ef\u4ee5\u4e00\u884c\u5c31\u5beb\u5b8c\uff0c\u4e5f\u53ef\u4ee5\u628a\u5927\u62ec\u865f\u62ff\u6389\uff0c\u6539\u5beb\u6210\u9019\u6a23\uff1a"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'match breed {\r\n    CatBreed::Persian => println!("\u6211\u662f\u6ce2\u65af\u8c93"),\r\n    CatBreed::AmericanShorthair => println!("\u6211\u662f\u7f8e\u570b\u77ed\u6bdb\u8c93"),\r\n    CatBreed::Mix => println!("\u6211\u662f\u7c73\u514b\u65af"),\r\n}\r\n\n'})}),"\n",(0,s.jsx)(r.p,{children:"\u9019\u7a2e\u5beb\u6cd5\u7684\u8a71\u6bcf\u500b\u5206\u652f\u4e4b\u9593\u5c31\u5f97\u7528\u9017\u865f\u5206\u958b\u4e86\u3002\u56e0\u70ba\u7bc4\u4f8b\u90fd\u6bd4\u8f03\u7c21\u55ae\uff0c\u4ee5\u4e0b\u6211\u6703\u7528\u6bd4\u8f03\u7c21\u6377\u7684\u5beb\u6cd5\u3002"}),"\n",(0,s.jsxs)(r.p,{children:["\u95dc\u65bc ",(0,s.jsx)(r.code,{children:"match"}),"\uff0c\u7b2c\u4e00\u500b\u6211\u89ba\u5f97\u597d\u7528\u7684\u9ede\uff0c\u5c31\u662f\u4e0d\u7528\u5beb ",(0,s.jsx)(r.code,{children:"break"}),"\uff0c\u6211\u771f\u7684\u5f88\u5e38\u5fd8\u8a18\u5728 ",(0,s.jsx)(r.code,{children:"switch"})," \u7684\u6642\u5019\u5fd8\u4e86\u52a0\u4e0a ",(0,s.jsx)(r.code,{children:"break"}),"\u3002\u5982\u679c\u5149\u5c31\u53ea\u6709\u9019\u6a23\u7684\u8a71\uff0c\u5b83\u5c31\u8ddf\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u7684 ",(0,s.jsx)(r.code,{children:"switch"})," \u5c31\u6c92\u592a\u5927\u7684\u5dee\u5225\u4e86\u3002"]}),"\n",(0,s.jsxs)(r.p,{children:["\u7576 ",(0,s.jsx)(r.code,{children:"match"})," \u8ddf Enum \u642d\u5728\u4e00\u8d77\u7528\u7684\u6642\u5019\uff0cRust \u7de8\u8b6f\u5668\u6703\u6aa2\u67e5\u662f\u5426\u6240\u6709\u7684\u53ef\u80fd\u6027\u90fd\u8003\u616e\u5230\u4e86\uff0c\u5c31\u4ee5\u9019\u9ede\u4f86\u8aaa\u5f88 Rust\u3002\u5047\u8a2d\u6211\u6545\u610f\u6f0f\u4e00\u500b\u6c92\u5beb\uff0c\u50cf\u9019\u6a23\uff1a"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'match breed {\r\n    CatBreed::AmericanShorthair => println!("\u6211\u662f\u7f8e\u570b\u77ed\u6bdb\u8c93"),\r\n    CatBreed::Persian => println!("\u6211\u662f\u6ce2\u65af\u8c93")\r\n}\r\n\n'})}),"\n",(0,s.jsx)(r.p,{children:"\u7de8\u8b6f\u904e\u7a0b\u5c31\u6703\u767c\u751f\u932f\u8aa4\uff1a"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-shell",children:"$ cargo run\r\nerror[E0004]: non-exhaustive patterns: `CatBreed::Mix` not covered\r\n10 |     match breed {\r\n   |           ^^^^^ pattern `CatBreed::Mix` not covered\r\n\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Rust \u7de8\u8b6f\u5668\u660e\u767d\u7684\u544a\u8a34\u4f60 ",(0,s.jsx)(r.code,{children:"CatBreed::Mix"})," \u9019\u500b\u6c92\u6709\u5beb\u5230\u3002\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u7684 Enum \u53ef\u80fd\u6839\u672c\u4e0d\u5728\u610f\u9019\u7a2e\u4e8b\uff0c\u6c92\u5beb\u5230\u5c31\u6c92\u5beb\u5230\uff0c\u5728 JavaScript \u8aaa\u4e0d\u5b9a\u5c31\u7d66\u4f60\u500b ",(0,s.jsx)(r.code,{children:"undefined"})," \u5c31\u7b97\u4e86\uff0c\u4f46 Rust \u7de8\u8b6f\u5668\u5c31\u662f\u9019\u9ebc\u9f9c\u6bdb\uff0c\u53ef\u4ee5\u7684\u8a71\u5c31\u76e1\u91cf\u5728\u7de8\u8b6f\u968e\u6bb5\u5c31\u77e5\u9053\u6240\u6709\u7684\u53ef\u80fd\u6027\uff0c\u8981\u8b1b\u6e05\u695a\u8aaa\u660e\u767d\uff0c\u4e0d\u8981\u6709\u4efb\u4f55\u4e0d\u78ba\u5b9a\u6027\u3002"]}),"\n",(0,s.jsxs)(r.p,{children:["\u4f46\u5982\u679c\u8b8a\u9ad4\u6709 10 \u500b\u300120 \u500b\u600e\u9ebc\u8fa6\uff1f\u96e3\u9053\u8981\u6bcf\u500b\u90fd\u5beb\u55ce\uff1f",(0,s.jsx)(r.code,{children:"match"})," \u6709\u63d0\u4f9b\u4e00\u7a2e\u300c\u5269\u4e0b\u7684\u6211\u90fd\u5305\u4e86\u300d\u7684\u5beb\u6cd5\uff1a"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'match breed {\r\n    CatBreed::Mix => println!("\u6211\u662f\u7c73\u514b\u65af"),\r\n    _ => println!("\u6211\u662f\u54c1\u7a2e\u8c93")\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(r.p,{children:["\u4f7f\u7528 ",(0,s.jsx)(r.code,{children:"_"})," \u53ef\u4ee5\u7528\u4f86\u4ee3\u8868\u6240\u6709\u5176\u5b83\u7684\u53ef\u80fd\u6027\uff0c\u6709\u9ede\u50cf\u9810\u8a2d\u503c\u7684\u6982\u5ff5\uff0c\u6240\u4ee5\u4e0a\u9762\u9019\u6bb5\u7bc4\u4f8b\u5c31\u80fd\u89e3\u91cb\u70ba\u300c\u5982\u679c\u4e0d\u662f\u7c73\u514b\u65af\uff0c\u5176\u5b83\u7684\u90fd\u662f\u54c1\u7a2e\u8c93\u300d\u3002\u4e0d\u904e\u56e0\u70ba ",(0,s.jsx)(r.code,{children:"match"})," \u5728\u6bd4\u5c0d\u7684\u6642\u5019\u6703\u7531\u4e0a\u800c\u4e0b\u4f9d\u5e8f\u6bd4\u5c0d\uff0c\u4f7f\u7528 ",(0,s.jsx)(r.code,{children:"_"})," \u7684\u6642\u5019\u8981\u6ce8\u610f\u9806\u5e8f\u554f\u984c\uff0c\u50cf\u662f\u9019\u6a23\u53cd\u904e\u4f86\u9019\u6a23\u5beb\u7684\u8a71\uff1a"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'match breed {\r\n    _ => println!("\u6211\u662f\u54c1\u7a2e\u8c93"),\r\n    CatBreed::Mix => println!("\u6211\u662f\u7c73\u514b\u65af")\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(r.p,{children:["\u56e0\u70ba\u5728\u4e0a\u9762\u7684 ",(0,s.jsx)(r.code,{children:"_"})," \u5c31\u6703\u628a\u6240\u6709\u7684\u53ef\u80fd\u6027\u90fd\u5403\u6389\u4e86\uff0c\u5f8c\u7e8c\u7684 ",(0,s.jsx)(r.code,{children:"CatBreed::Mix"})," \u5c31\u6839\u672c\u6c92\u6709\u6a5f\u6703\u88ab\u89f8\u6cd5\uff0c\u6240\u4ee5\u4e0d\u7ba1\u662f\u4ec0\u9ebc\u54c1\u7a2e\uff0c\u4e00\u5f8b\u90fd\u53ea\u6703\u5370\u51fa\u300c\u6211\u662f\u54c1\u7a2e\u8c93\u300d\u5b57\u6a23\u3002\u9019\u6a23\u5beb\u7de8\u8b6f\u7684\u6642\u5019\u4e0d\u6703\u51fa\u932f\uff0c\u56e0\u70ba\u4e0d\u77e5\u9053\u4f60\u662f\u6545\u610f\u7684\u9084\u662f\u4e0d\u5c0f\u5fc3\u7684\uff0c\u4f46 Rust \u9084\u662f\u6703\u8cbc\u5fc3\u7684\u63d0\u9192\u4f60\u4e00\u4e0b\uff1a"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-shell",children:"$ cargo run\r\nwarning: unreachable pattern\r\n11 |         _ => {\r\n   |         - matches any value\r\n...\r\n15 |         CatBreed::Mix => {\r\n   |         ^^^^^^^^^^^^^ unreachable pattern\r\n\n"})}),"\n",(0,s.jsxs)(r.p,{children:["\u6700\u9059\u9060\u7684\u8ddd\u96e2\u4e0d\u662f\u751f\u8207\u6b7b\uff0c\u800c\u662f\u4f60\u5c31\u5728\u6211\u9762\u524d\uff0c\u6211\u537b\u6211\u6c38\u9060\u8d70\u5230\u4e0d\u4f60\u8eab\u908a\u7684 ",(0,s.jsx)(r.code,{children:"unreachable pattern"}),"\u3002"]}),"\n",(0,s.jsx)(r.p,{children:"\u5982\u679c\u5404\u4f4d\u6709\u4e00\u908a\u958b\u8457\u96fb\u8166\u4e00\u908a\u8ddf\u8457\u6572\u6253\u7a0b\u5f0f\u78bc\u4e00\u908a\u57f7\u884c\u7684\u8a71\uff0c\u61c9\u8a72\u6703\u767c\u73fe\u525b\u525b\u57f7\u884c\u7684\u6642\u5019 Rust \u7de8\u8b6f\u5668\u6703\u4e00\u76f4\u4e1f\u8a0a\u606f\u63d0\u9192\u4f60\u4e00\u4e9b\u4e8b\uff1a"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-shell",children:"$ cargo run\r\nwarning: variants `Persian` and `AmericanShorthair` are never constructed\r\n1 | enum CatBreed {\r\n  |      -------- variants in this enum\r\n2 |     Persian,           // \u6ce2\u65af\u8c93\r\n  |     ^^^^^^^\r\n3 |     AmericanShorthair, // \u7f8e\u570b\u77ed\u6bdb\u8c93\r\n  |     ^^^^^^^^^^^^^^^^^\r\n\n"})}),"\n",(0,s.jsxs)(r.p,{children:["\u610f\u601d\u5c31\u662f\u9019\u88e1\u7684 ",(0,s.jsx)(r.code,{children:"Persian"})," \u8ddf ",(0,s.jsx)(r.code,{children:"AmericanShorthair"})," \u9019\u5169\u7a2e\u8b8a\u9ad4\u5728\u7a0b\u5f0f\u78bc\u88e1\u9762\u6839\u672c\u6c92\u51fa\u73fe\u3002\u70ba\u4ec0\u9ebc\u6c92\u51fa\u73fe\uff1f\u662f\u4e0d\u662f\u4e00\u958b\u59cb\u60f3\u6bd4\u8f03\u591a\uff0c\u591a\u52a0\u4e86\u4e00\u4e9b\u4e0a\u53bb\uff0c\u9084\u662f\u5f8c\u4f86\u9700\u6c42\u8b8a\u66f4\u5c0e\u81f4\u67d0\u4e9b\u8b8a\u9ad4\u4e0d\u518d\u4f7f\u7528\u4f46\u537b\u6c92\u522a\u6389\uff08\u6216\u4e0d\u6562\u522a\uff09\uff1f\u5176\u5be6\u9019\u5728 Struct \u4e5f\u6709\u4e00\u6a23\u7684\u60c5\u6cc1\uff0cRust \u7de8\u8b6f\u5668\u5728\u505a\u6b63\u78ba\u7684\u4e8b\uff0c\u4f46\u5982\u679c\u4f60\u89ba\u5f97 Rust \u7de8\u8b6f\u5668\u7ba1\u7684\u6709\u9ede\u591a\uff0c\u540c\u6a23\u53ef\u4ee5\u5728 Enum \u524d\u9762\u52a0\u4e0a ",(0,s.jsx)(r.code,{children:"#[allow(dead_code)]"})," \u7684\u5c6c\u6027\u8a2d\u5b9a\uff0c\u66ab\u6642\u95dc\u9589\u6aa2\u67e5\uff1a"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:"#[allow(dead_code)]\r\nenum CatBreed {\r\n    Persian,           // \u6ce2\u65af\u8c93\r\n    AmericanShorthair, // \u7f8e\u570b\u77ed\u6bdb\u8c93\r\n    Mix,               // \u7c73\u514b\u65af\r\n}\n"})}),"\n",(0,s.jsx)(r.h2,{id:"\u8b8a\u9ad4\u9084\u80fd\u5e36\u53c3\u6578",children:"\u8b8a\u9ad4\u9084\u80fd\u5e36\u53c3\u6578\uff01"}),"\n",(0,s.jsx)(r.p,{children:"\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u7684 Enum \u5927\u6982\u5c31\u771f\u7684\u53ea\u6709\u300c\u5217\u8209\u300d\u5b57\u9762\u4e0a\u7684\u610f\u601d\uff0c\u628a\u6240\u6709\u7684\u8b8a\u9ad4\u4e00\u5b57\u6392\u958b\u5217\u51fa\u4f86\u800c\u5df2\uff0c\u4f46 Rust \u7684 Enum \u9084\u6709\u4e00\u4e9b\u7279\u5225\u7684\u8a2d\u8a08\uff0c\u5176\u4e2d\u4e4b\u4e00\u5c31\u662f\u5b83\u7684\u8b8a\u9ad4\u9084\u80fd\u5e36\u53c3\u6578\uff1a"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:"enum CatBreed {\r\n    Persian,              // \u6ce2\u65af\u8c93\r\n    AmericanShorthair,    // \u7f8e\u570b\u77ed\u6bdb\u8c93\r\n    Mix(String, u8),      // \u7c73\u514b\u65af\r\n}\r\n\n"})}),"\n",(0,s.jsx)(r.p,{children:"\u5982\u679c\u8b8a\u9ad4\u6709\u53c3\u6578\u7684\u8a71\uff0c\u5728\u4f7f\u7528\u7684\u6642\u5019\u4e5f\u8981\u5e36\u7d66\u5b83\uff1a"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'let kitty = CatBreed::Mix(String::from("Kitty"), 8);\r\nlet nancy = CatBreed::Persian;\n'})}),"\n",(0,s.jsx)(r.p,{children:"\u7136\u5f8c\u4f60\u4e5f\u53ef\u4ee5\u628a\u5b83\u50b3\u7d66\u5176\u5b83\u51fd\u6578\uff0c\u6574\u500b\u7a0b\u5f0f\u78bc\u770b\u8d77\u4f86\u6703\u8b8a\u9019\u6a23\uff1a"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'#[allow(dead_code)]\r\nenum CatBreed {\r\n    Persian,             // \u6ce2\u65af\u8c93\r\n    AmericanShorthair,   // \u7f8e\u570b\u77ed\u6bdb\u8c93\r\n    Mix(String, u8),     // \u7c73\u514b\u65af\r\n}\r\n\r\nfn main() {\r\n    let kitty = CatBreed::Mix(String::from("Kitty"), 8);\r\n    let nancy = CatBreed::Persian;\r\n\r\n    greeting(&kitty);\r\n    greeting(&nancy);\r\n}\r\n\r\nfn greeting(cat: &CatBreed) {\r\n    match cat {\r\n        CatBreed::Mix(name, age) => println!("\u6211\u662f\u7c73\u514b\u65af\uff0c\u6211\u53eb {}\uff0c\u6211\u4eca\u5e74 {} \u6b72", name, age),\r\n        _ => println!("\u6211\u662f\u54c1\u7a2e\u8c93")\r\n    }\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(r.p,{children:["\u4e0a\u9762\u9019\u500b ",(0,s.jsx)(r.code,{children:"greeting(cat: &CatBreed)"})," \u610f\u601d\u662f\u5e36\u9032\u4f86\u7684\u9019\u500b ",(0,s.jsx)(r.code,{children:"cat"})," \u662f\u4e00\u7a2e ",(0,s.jsx)(r.code,{children:"CatBreed"})," \uff08\u7684\u53c3\u7167\uff09\uff0c\u9019 Enum \u7528\u8d77\u4f86\u7684\u624b\u611f\u597d\u50cf\u8ddf\u4e00\u822c\u7684\u578b\u5225\u6216 Struct \u6709\u9ede\u50cf..."]}),"\n",(0,s.jsx)(r.p,{children:"\u9084\u6c92\u5b8c\uff0cEnum \u88e1\u7684\u8b8a\u9ad4\u53ef\u4ee5\u5e36 Struct \u9032\u53bb\uff0c\u751a\u81f3\u9023\u8b8a\u9ad4\u672c\u8eab\u4e5f\u53ef\u4ee5\u662f\u4e00\u500b Struct\uff1a"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:"struct Skill {\r\n    action: String\r\n}\r\n\r\nenum CatBreed {\r\n    Persian,             // \u6ce2\u65af\u8c93\r\n    AmericanShorthair,   // \u7f8e\u570b\u77ed\u6bdb\u8c93\r\n    Mix(String, u8),     // \u7c73\u514b\u65af\r\n    Other(Skill),        // \u5176\u5b83\r\n    Alien{power: u32}    // \u5916\u661f\u8c93\r\n}\r\n\n"})}),"\n",(0,s.jsx)(r.p,{children:"\u5be6\u969b\u7528\u8d77\u4f86\u5927\u6982\u6703\u8b8a\u9019\u6a23\uff1a"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'fn main() {\r\n    let goku_cat = CatBreed::Other(Skill{action: "\u9f9c\u6d3e\u6c23\u529f".to_string()});\r\n    let frieza_cat = CatBreed::Alien { power: 530000 }; // \u6230\u9b25\u529b 53 \u842c\r\n\r\n    greeting(&goku_cat);\r\n    greeting(&frieza_cat);\r\n}\r\n\r\nfn greeting(cat: &CatBreed) {\r\n    match cat {\r\n        CatBreed::Mix(name, age) => println!("\u6211\u662f\u7c73\u514b\u65af\uff0c\u6211\u53eb {}\uff0c\u6211\u4eca\u5e74 {} \u6b72", name, age),\r\n        CatBreed::Other(skill) => println!("\u4f7f\u51fa\u7d55\u62db{}\uff01", skill.action),\r\n        CatBreed::Alien { power } => println!("\u6211\u7684\u6230\u9b25\u529b\u662f {}", power),\r\n        _ => println!("\u6211\u662f\u54c1\u7a2e\u8c93")\r\n    }\r\n}\n'})}),"\n",(0,s.jsx)(r.p,{children:"\u770b\u5230\u9019\u88e1\uff0c\u6709\u7528\u904e\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u7684 Enum \u7684\u4eba\uff0c\u61c9\u8a72\u5f88\u660e\u986f\u611f\u53d7\u5230\u5dee\u7570\u4e86\u3002\u4f46\uff0c\u600e\u9ebc\u597d\u50cf\u6709\u9ede\u50cf\u5728\u7528 Struct \u7684\u5373\u8996\u611f\uff1f\u4e0d\u6025\uff0c\u4f60\u518d\u63a5\u8457\u5f80\u4e0b\u770b\uff1a"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'impl CatBreed {\r\n    fn go(&self) {\r\n        println!("Go!");\r\n    }\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(r.p,{children:["\u54a6\uff1f",(0,s.jsx)(r.code,{children:"impl"})," \u4e5f\u80fd\u5e6b Enum \u52a0\u529f\u80fd\uff1f\u662f\u7684\uff0c\u5982\u679c\u4f60\u559c\u6b61\uff0c\u9023 Trait \u4e5f\u80fd\u52a0\u5728 Enum \u4e0a\u3002\u9019\u6a23\uff0c\u5230\u5e95 Enum \u8ddf Struct \u6709\u4ec0\u9ebc\u5dee\u5225\uff1f\u4ec0\u9ebc\u6642\u5019\u8a72\u9078\u7528\u54ea\u4e00\u7a2e\uff1f"]}),"\n",(0,s.jsx)(r.h2,{id:"enum-vs-struct",children:"Enum vs Struct"}),"\n",(0,s.jsx)(r.p,{children:"Rust \u4e2d\u7684 Enum \u548c Struct \u78ba\u5be6\u6709\u4e9b\u76f8\u4f3c\u4e4b\u8655\uff0c\u4f46\u5b83\u5011\u4e5f\u6709\u4e00\u4e9b\u4e0d\u4e00\u6a23\u7684\u5730\u65b9\uff0c\u4f7f\u7528\u60c5\u5883\u4e5f\u4e0d\u592a\u4e00\u6a23\uff1a"}),"\n",(0,s.jsx)(r.h3,{id:"\u76f8\u540c",children:"\u76f8\u540c"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"\u90fd\u53ef\u4ee5\u7528\u4f86\u7522\u751f\u5be6\u9ad4\u6216\u50b3\u9032\u51fd\u6578\u88e1\u3002"}),"\n",(0,s.jsxs)(r.li,{children:["\u90fd\u53ef\u4ee5\u7528 ",(0,s.jsx)(r.code,{children:"impl"})," \u5e6b\u81ea\u5df1\u589e\u52a0\u529f\u80fd\uff0cTrait \u4e5f\u90fd\u80fd\u7528\u3002"]}),"\n",(0,s.jsxs)(r.li,{children:["\u90fd\u53ef\u4ee5\u914d\u5408 ",(0,s.jsx)(r.code,{children:"match"})," \u4e00\u8d77\u4f7f\u7528\u3002"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"\u4e0d\u540c",children:"\u4e0d\u540c\uff1a"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Enum \u53ef\u4ee5\u6709\u5f88\u591a\u7684\u8b8a\u9ad4\uff08Variant\uff09\uff0c\u6bcf\u500b\u8b8a\u9ad4\u90fd\u9084\u80fd\u53e6\u5916\u63a5\u4e0d\u540c\u578b\u614b\u7684\u53c3\u6578\uff1bStruct \u7684\u53ef\u4ee5\u6709\u5f88\u591a\u6b04\u4f4d\uff08Field\uff09\uff0c\u4e0d\u904e\u5c31\u6c92\u8fa6\u6cd5\u50cf\u8b8a\u9ad4\u9019\u9ebc\u591a\u8b8a\u5316\u4e86\u3002"}),"\n",(0,s.jsxs)(r.li,{children:["\u96d6\u7136 Enum \u8ddf Struct \u90fd\u53ef\u4ee5\u8ddf ",(0,s.jsx)(r.code,{children:"match"})," \u642d\u914d\u8457\u4f7f\u7528\uff0c\u4f46 Enum \u7684\u8a71\u6703\u6aa2\u67e5\u662f\u4e0d\u662f\u6bcf\u500b\u8b8a\u9ad4\u7684\u60c5\u6cc1\u90fd\u6709\u8003\u616e\u5230\u4e86\uff0cSturct \u5c31\u6c92\u9019\u8a2d\u8a08\u3002"]}),"\n",(0,s.jsx)(r.li,{children:"Enum \u88e1\u9762\u53ef\u4ee5\u5305 Struct\uff0c\u4f46 Struct \u88e1\u9762\u4e0d\u80fd\u5305 Enum\u3002"}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"\u4f7f\u7528\u6642\u6a5f",children:"\u4f7f\u7528\u6642\u6a5f"}),"\n",(0,s.jsx)(r.p,{children:"\u5982\u679c\u662f\u8981\u7528\u4f86\u8868\u793a\u6709\u9650\u7684\u72c0\u614b\uff0c\u4f8b\u5982\u50cf\u662f\u7528\u4f86\u8868\u793a\u6700\u65b0\u6b3e iPhone \u624b\u6a5f\u7684\u984f\u8272\u3001\u8a02\u55ae\u662f\u5426\u5df2\u7d50\u5e33\u3001\u5df2\u51fa\u8ca8\u3001\u5df2\u5230\u8ca8\u7b49\u4e0d\u540c\u72c0\u614b\uff0c\u6216\u662f\u9700\u8981\u5c0d\u9019\u4e9b\u53ef\u80fd\u6027\u9032\u884c\u6a21\u5f0f\u5339\u914d\uff08Pattern Matching\uff09\uff0c\u7136\u5f8c\u4f9d\u4e0d\u540c\u60c5\u6cc1\u57f7\u884c\u4e0d\u540c\u7684\u7a0b\u5f0f\u78bc\u3002\u5982\u679c\u662f\u9019\u7a2e\u60c5\u6cc1\u53ef\u8003\u616e\u4f7f\u7528 Enum\uff0c\u5176\u5b83\u5247\u53ef\u8003\u616e\u4f7f\u7528 Struct\u3002"}),"\n",(0,s.jsx)(r.p,{children:"Enum \u8ddf Struct \u5728 Rust \u88e1\u90fd\u662f\u91cd\u8981\u800c\u4e14\u5e38\u7528\u7684\u8cc7\u6599\u578b\u614b\uff0c\u901a\u5e38\u6703\u6839\u64da\u5be6\u969b\u60c5\u6cc1\u800c\u4e14\u9078\u7528\u5408\u9069\u7684\u7a2e\u985e\uff0c\u6211\u77e5\u9053\u9019\u53e5\u8a71\u807d\u8d77\u4f86\u8ddf\u5728\u975e\u6d32\u6bcf 60 \u79d2\u5c31\u6709\u4e00\u5206\u9418\u904e\u53bb\u4e00\u6a23\u7684\u6c92\u5e6b\u52a9\uff0c\u4f46\u5728\u73fe\u5728\u6211\u76f8\u4fe1\u8b1b\u4e86\u4e5f\u6c92\u8fa6\u6cd5\u60f3\u50cf\u662f\u5230\u5e95\u4ec0\u9ebc\u60c5\u5883\u9069\u5408\u54ea\u4e00\u7a2e\uff0c\u9019\u5c31\u5f85\u5f8c\u534a\u6bb5\u5be6\u4f5c\u7684\u6642\u5019\u9047\u5230\u5be6\u969b\u7684\u72c0\u6cc1\u518d\u4f86\u89e3\u91cb\u6703\u66f4\u6709\u611f\u89ba\u3002"})]})}function h(n={}){const{wrapper:r}={...(0,i.R)(),...n.components};return r?(0,s.jsx)(r,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},8453:(n,r,e)=>{e.d(r,{R:()=>c,x:()=>a});var t=e(6540);const s={},i=t.createContext(s);function c(n){const r=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function a(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),t.createElement(i.Provider,{value:r},n.children)}}}]);