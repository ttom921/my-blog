"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[7098],{7234:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>l,toc:()=>o});var s=r(4848),t=r(8453);const c={"\uff03id":"doc-markdown",title:"25-rust_\u628a\u6771\u897f\u5370\u51fa\u4f86",description:"_\u628a\u6771\u897f\u5370\u51fa\u4f86",keywords:["rust"],last_update:{date:"5/15/2024",author:"ttom"}},i=void 0,l={id:"\u5b78\u7fd2/rust/rustbasic/rust_\u628a\u6771\u897f\u5370\u51fa\u4f86",title:"25-rust_\u628a\u6771\u897f\u5370\u51fa\u4f86",description:"_\u628a\u6771\u897f\u5370\u51fa\u4f86",source:"@site/docs/\u5b78\u7fd2/rust/rustbasic/25-rust_\u628a\u6771\u897f\u5370\u51fa\u4f86.md",sourceDirName:"\u5b78\u7fd2/rust/rustbasic",slug:"/\u5b78\u7fd2/rust/rustbasic/rust_\u628a\u6771\u897f\u5370\u51fa\u4f86",permalink:"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u628a\u6771\u897f\u5370\u51fa\u4f86",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:25,frontMatter:{"\uff03id":"doc-markdown",title:"25-rust_\u628a\u6771\u897f\u5370\u51fa\u4f86",description:"_\u628a\u6771\u897f\u5370\u51fa\u4f86",keywords:["rust"],last_update:{date:"5/15/2024",author:"ttom"}},sidebar:"tutorialSidebar",previous:{title:"24-rust_\u518d\u770b\u751f\u547d\u9031\u671f_Lifetime_revisit",permalink:"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u518d\u770b\u751f\u547d\u9031\u671f_Lifetime_revisit"},next:{title:"26-rust_\u9589\u5305_Closure",permalink:"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u9589\u5305_Closure"}},d={},o=[{value:"\u683c\u5f0f\u5316",id:"\u683c\u5f0f\u5316",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["\u5728 Rust \u8981\u628a\u6771\u897f\u5370\u51fa\u4f86\u61c9\u8a72\u662f\u7c21\u55ae\u5230\u4e0d\u884c\uff0c\u6211\u5011\u5728\u524d\u9762\u7684\u6587\u7ae0\u5c31\u7df4\u7fd2\u904e\u7528 ",(0,s.jsx)(n.code,{children:"println!()"})," \u5370\u51fa ",(0,s.jsx)(n.code,{children:"Hello Rust"})," \u5b57\u6a23\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'println!("Hello Rust");\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u4e00\u9ede\u90fd\u4e0d\u96e3\uff0c\u4f46\u5728\u63a5\u4e0b\u4f86\u7684\u7ae0\u7bc0\u61c9\u8a72\u6709\u9678\u7e8c\u770b\u5230\u88e1\u9762\u653e\u7684\u6771\u897f\u8b8a\u7684\u4e0d\u592a\u4e00\u6a23\u4e86\uff0c\u4f8b\u5982\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'println!("{}", "Hello Rust");\r\nprintln!("{:?}", "Hello Rust");\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u597d\u50cf\u4e5f\u6c92\u4ec0\u9ebc\u4e86\u4e0d\u8d77\uff0c\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u4e5f\u6709\u985e\u4f3c\u7684\u5beb\u6cd5\uff0c\u4f8b\u5982 JavaScript \u662f\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"${}"})," \u800c Ruby \u662f\u7528 ",(0,s.jsx)(n.code,{children:"#{}"})," \u9019\u6a23\u7684\u5beb\u6cd5\uff0c\u6240\u4ee5\u5927\u6982\u4e5f\u53ef\u4ee5\u731c\u5230 Rust \u7684 ",(0,s.jsx)(n.code,{children:"println!()"})," \u88e1\u7684 ",(0,s.jsx)(n.code,{children:"{}"})," \u5beb\u6cd5\u5c31\u662f\u53ef\u4ee5\u7528\u5f8c\u9762\u7684\u503c\u66ff\u63db\u6389\uff0c\u4f46\u662f\uff0c\u90a3\u500b ",(0,s.jsx)(n.code,{children:"{:?}"})," \u662f\u4ec0\u9ebc\uff1f\u53e6\u5916\uff0c\u6709\u4e9b\u7a0b\u5f0f\u8a9e\u8a00\u9084\u6703\u9700\u8981\u7528 ",(0,s.jsx)(n.code,{children:"%s"})," \u6216 ",(0,s.jsx)(n.code,{children:"%d"})," \u4e4b\u985e\u7684\u5beb\u6cd5\u5206\u5225\u7528\u4f86\u66ff\u63db\u5b57\u4e32\u53ca\u6578\u5b57\uff0c\u4f46 Rust \u597d\u50cf\u5c31\u53ea\u8981\u7528 ",(0,s.jsx)(n.code,{children:"{}"})," \u4e0d\u7528\u7ba1\u578b\u614b\u5c31\u53ef\u4ee5\u4e00\u8def\u5370\u5230\u5e95..."]}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u5f8c\u9047\u5230\u8981\u5370\u51fa\u4f86\u7684\u578b\u614b\u662f Struct \u6216\u662f\u6bd4\u8f03\u8907\u96dc\u7684\u578b\u614b\u7684\u6642\u5019\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'let kitty = Cat { name: String::from("Kitty") };\r\nprintln!("{}", kitty);  // \u6c92\u8fa6\u6cd5\u5370\uff01\r\n\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u6703\u767c\u73fe\u9019\u6a23\u5370\u4e0d\u51fa\u4f86\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'error[E0277]: `Cat` doesn\'t implement `std::fmt::Display`\r\n7 |     println!("{}", kitty);\r\n  |                    ^^^^^ `Cat` cannot be formatted with the default formatter\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u5230\u5e95\u662f\u600e\u9ebc\u56de\u4e8b\uff1f\u539f\u4f86\u662f\u5982\u679c\u8981\u7528 ",(0,s.jsx)(n.code,{children:'println!("{}")'})," \u5370\u51fa\u4f86\u7684\u8a71\uff0c\u9700\u8981\u639b\u4e0a ",(0,s.jsx)(n.code,{children:"std::fmt::Display"})," \u7279\u5fb5\u3002\u7ffb\u4e86\u4e00\u4e0b Rust \u7684\u539f\u59cb\u78bc\uff0c",(0,s.jsx)(n.code,{children:"Display"})," \u9019\u500b trait \u6709\u500b\u8981\u5be6\u4f5c\u7684\u65b9\u6cd5 ",(0,s.jsx)(n.code,{children:"fmt"}),"\uff0c\u5b83\u7684\u51fd\u6578\u7c3d\u540d\u5982\u4e0b\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"pub trait Display {\r\n    fn fmt(&self, f: &mut Formatter<'_>) -> Result;\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u6839\u64da\u539f\u59cb\u78bc\u8aaa\u660e\u81ea\u5e36\u7684\u7bc4\u4f8b\uff0c\u6211\u5e6b\u539f\u672c\u7684 ",(0,s.jsx)(n.code,{children:"Cat"})," \u52a0\u4e0a\u4e86 ",(0,s.jsx)(n.code,{children:"Display"})," \u7279\u5fb5\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'struct Cat {\r\n    name: String\r\n}\r\n\r\nuse std::fmt::{Display, Formatter, Result};\r\n\r\nimpl Display for Cat {\r\n    fn fmt(&self, f: &mut Formatter) -> Result {\r\n        write!(f, "\u8c93\u5152: {}", self.name)\r\n    }\r\n}\r\n\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u6a23\u5c31\u53ef\u4ee5\u9806\u5229\u5370\u6771\u897f\u51fa\u4f86\u4e86\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u4f46\u70ba\u4ec0\u9ebc\u6574\u6578\u3001\u6d6e\u9ede\u6578\u4e4b\u985e\u7684\u6bd4\u8f03\u7c21\u55ae\u7684\u578b\u614b\u4e0d\u9700\u8981\u7279\u5225\u52a0\u4e0a ",(0,s.jsx)(n.code,{children:"Display"})," \u7279\u5fb5\u5c31\u80fd\u88ab\u5370\u51fa\u4f86\uff1f\u56e0\u70ba\u5728 Rust \u88e1\u7684\u6574\u6578\u3001\u6d6e\u9ede\u6578\u3001\u5e03\u6797\u503c\u3001\u5b57\u5143\u3001\u5b57\u4e32\u3001\u5b57\u4e32\u5207\u7247\u90fd\u6709\u5167\u5efa ",(0,s.jsx)(n.code,{children:"Display"})," \u4e86\uff0c\u6240\u4ee5\u4e0d\u7528\u7279\u5225\u5e6b\u5b83\u5be6\u4f5c\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u90a3\u9ebc ",(0,s.jsx)(n.code,{children:"{:?}"})," \u5462\uff1f\u5b83\u8ddf ",(0,s.jsx)(n.code,{children:"{}"})," \u7684\u7528\u9014\u7a0d\u6709\u4e0d\u540c\uff0c",(0,s.jsx)(n.code,{children:"{}"})," \u4e3b\u8981\u662f\u7528\u4f86\u628a\u503c\u300c\u986f\u793a\u300d\u5728\u756b\u9762\u4e0a\uff0c\u800c ",(0,s.jsx)(n.code,{children:"{:?}"})," \u901a\u5e38\u7528\u4f86 debug\uff0c\u4f8b\u5982\u628a\u6574\u9846 Struct \u5370\u51fa\u4f86\u770b\u770b\u88e1\u9762\u9577\u4ec0\u9ebc\u6a23\u5b50\uff0c\u6240\u4ee5\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"{:?}"})," \u7684\u8a71\uff0c\u5b83\u9700\u8981\u6709 ",(0,s.jsx)(n.code,{children:"std::fmt::Debug"})," \u7279\u5fb5\uff0c\u5927\u90e8\u4efd\u5167\u5efa\u7684\u8cc7\u6599\u578b\u614b\u90fd\u6709\u652f\u63f4 ",(0,s.jsx)(n.code,{children:"Debug"})," \u7279\u5fb5\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'println!("{:?}", 1);\r\nprintln!("{:?}", false);\r\nprintln!("{:?}", [1, 2, 3]);\r\nprintln!("{:?}", vec![1, 2, 3]);\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u4e9b\u90fd\u80fd\u9806\u5229\u628a\u503c\u5370\u51fa\u4f86\u3002\u4f46 Struct \u4e26\u6c92\u6709\uff0c\u6240\u4ee5\u5982\u679c\u8981\u7528 ",(0,s.jsx)(n.code,{children:"{:?}"})," \u628a\u5b83\u5370\u51fa\u4f86\u7684\u8a71\uff0c\u540c\u6a23\u4e5f\u662f\u8981\u5e6b\u5b83\u5be6\u4f5c ",(0,s.jsx)(n.code,{children:"Debug"})," \u7279\u5fb5\u624d\u884c\uff0c\u6839\u64da\u539f\u59cb\u78bc\u8aaa\u660e\uff0c\u540c\u6a23\u4e5f\u662f\u8981\u5be6\u4f5c ",(0,s.jsx)(n.code,{children:"fmt()"})," \u65b9\u6cd5\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'use std::fmt::{Formatter, Result, Debug};\r\n\r\nimpl Debug for Cat {\r\n    fn fmt(&self, f: &mut Formatter) -> Result {\r\n        write!(f, "\u8c93\u5152: {}", self.name)\r\n    }\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u6a23 ",(0,s.jsx)(n.code,{children:'println!("{:?}", kitty);'})," \u5c31\u6703\u5370\u51fa\u6771\u897f\u4f86\u4e86\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u597d\u5566\uff0c\u73fe\u5728\u5df2\u7d93\u77e5\u9053\u53ea\u8981\u6709 ",(0,s.jsx)(n.code,{children:"Debug"})," \u9019\u500b Trait \u5c31\u53ef\u4ee5\u4e1f\u5230 ",(0,s.jsx)(n.code,{children:"{:?}"})," \u88e1\u88ab\u5370\u51fa\u4f86\uff0c\u4f46\u662f\u5de5\u7a0b\u5e2b\u5728\u958b\u767c\u7684\u904e\u7a0b\u4e2d\u9084\u883b\u5e38\u9700\u8981\u628a\u4e00\u4e9b\u8cc7\u6599\u6216\u7d50\u69cb\u5370\u51fa\u4f86\u770b\u770b\u60c5\u6cc1\uff0c\u5982\u679c\u6bcf\u500b Struct \u90fd\u5f97\u81ea\u5df1\u5be6\u4f5c\u4e00\u6b21\u4e5f\u592a\u8f9b\u82e6\u4e86\u3002Rust \u6709\u5148\u5e6b\u6211\u5011\u5beb\u4e86\u4e00\u500b ",(0,s.jsx)(n.code,{children:"Debug"})," \u7684\u5de8\u96c6\uff0c\u9700\u8981\u7684\u6642\u5019\u900f\u904e ",(0,s.jsx)(n.code,{children:"#[derive]"})," \u5c6c\u6027\u628a\u5b83\u639b\u4e0a\u53bb\u5373\u53ef\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"#[derive(Debug)]\r\nstruct Cat {\r\n    name: String\r\n}\r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u8f15\u9b06\u641e\u5b9a\uff01"}),"\n",(0,s.jsxs)(n.p,{children:["\u4f60\u4e5f\u8a31\u6703\u597d\u5947\uff0c\u5982\u679c\u9019\u6a23\u7684\u8a71\uff0c",(0,s.jsx)(n.code,{children:"Display"})," \u4e5f\u6709\u5167\u5efa\u7684\u5de8\u96c6\u53ef\u4ee5\u7528\u55ce\uff1f\u6839\u64da\u539f\u59cb\u78bc\u88e1\u5beb\u7684\uff1a"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Display"})," is similar to ",(0,s.jsx)(n.code,{children:"Debug"}),", but ",(0,s.jsx)(n.code,{children:"Display"})," is for user-facing output, and so cannot be derived."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u7b54\u6848\u662f\u6c92\u6709\uff0c\u4e5f\u5c31\u662f\u8aaa\u9019\u662f\u4f7f\u7528\u8005\uff08\u4e5f\u5c31\u662f\u4f60\uff09\u5f97\u81ea\u5df1\u60f3\u8fa6\u6cd5\u5566\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u683c\u5f0f\u5316",children:"\u683c\u5f0f\u5316"}),"\n",(0,s.jsxs)(n.p,{children:["\u9664\u4e86\u628a\u6771\u897f\u5370\u51fa\u4f86\uff0c\u61c9\u8a72\u4e5f\u5f88\u5e38\u6709\u9700\u8981\u628a\u67d0\u500b\u8cc7\u6599\u683c\u5f0f\u5316\u6210\u5b57\u4e32\uff0c\u9019\u6642\u5019\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"format!()"})," \u5de8\u96c6\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'let message = format!("\u4f60\u597d\uff0c\u6211\u662f {}", "Hello Kitty");\r\nprintln!("{}", message);\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u8ddf ",(0,s.jsx)(n.code,{children:"println!()"})," \u4e00\u6a23\uff0c\u5982\u679c\u9047\u5230\u6c92\u8fa6\u6cd5\u76f4\u63a5\u986f\u793a\u6216 debug \u7684\u503c\uff0c\u5c31\u9700\u8981\u5e6b\u5b83\u52a0\u4e0a ",(0,s.jsx)(n.code,{children:"Display"})," \u6216 ",(0,s.jsx)(n.code,{children:"Debug"})," \u7279\u5fb5\u5be6\u4f5c\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'struct Cat {\r\n    name: String\r\n}\r\n\r\nuse std::fmt::{Formatter, Result, Display};\r\n\r\nimpl Display for Cat {\r\n    fn fmt(&self, f: &mut Formatter) -> Result {\r\n        write!(f, "{}", self.name.to_uppercase())\r\n    }\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u6a23\u5c31\u884c\u4e86\u3002\u5982\u679c\u5be6\u4f5c ",(0,s.jsx)(n.code,{children:"Display"})," \u7279\u5fb5\u7684\u8a71\uff0c\u4e0d\u53ea ",(0,s.jsx)(n.code,{children:"println!()"})," \u8ddf ",(0,s.jsx)(n.code,{children:"format!()"}),"\uff0c\u9023 ",(0,s.jsx)(n.code,{children:".to_string()"})," \u7b49\u65b9\u6cd5\u4e5f\u8ddf\u8457\u53d7\u76ca\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'let kitty = Cat { name: String::from("kitty") };\r\nprintln!("{}", kitty.to_string());  // \u5370\u51fa KITTY\r\n\n'})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var s=r(6540);const t={},c=s.createContext(t);function i(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);