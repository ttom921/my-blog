"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[2409],{8342:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>a,frontMatter:()=>d,metadata:()=>l,toc:()=>t});var s=r(4848),c=r(8453);const d={"\uff03id":"doc-markdown",title:"16-rust_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805",description:"_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805",keywords:["rust"],last_update:{date:"4/18/2024",author:"ttom"}},i=void 0,l={id:"\u5b78\u7fd2/rust/rustbasic/rust_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805",title:"16-rust_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805",description:"_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805",source:"@site/docs/\u5b78\u7fd2/rust/rustbasic/16-rust_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805.md",sourceDirName:"\u5b78\u7fd2/rust/rustbasic",slug:"/\u5b78\u7fd2/rust/rustbasic/rust_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805",permalink:"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:16,frontMatter:{"\uff03id":"doc-markdown",title:"16-rust_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805",description:"_Option \u4e0d\u53ea\u662f\u500b\u9078\u9805",keywords:["rust"],last_update:{date:"4/18/2024",author:"ttom"}},sidebar:"tutorialSidebar",previous:{title:"15-rust_\u5217\u8209_Enum",permalink:"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u5217\u8209_Enum"},next:{title:"17-rust_\u6cdb\u578b_Generics",permalink:"/my-blog/docs/\u5b78\u7fd2/rust/rustbasic/rust_\u6cdb\u578b_Generics"}},o={},t=[{value:"Option",id:"option",level:2},{value:"\u4f60\u6709\u670b\u53cb\u55ce\uff1f",id:"\u4f60\u6709\u670b\u53cb\u55ce",level:3},{value:"\u6253\u958b\u5305\u88dd\u76d2",id:"\u6253\u958b\u5305\u88dd\u76d2",level:3},{value:"\u5176\u5b83\u597d\u7528\u7684\u65b9\u6cd5",id:"\u5176\u5b83\u597d\u7528\u7684\u65b9\u6cd5",level:3},{value:"Result",id:"result",level:2},{value:"\u4f60\u6236\u982d\u88e1\u9084\u6709\u9322\u55ce\uff1f",id:"\u4f60\u6236\u982d\u88e1\u9084\u6709\u9322\u55ce",level:3}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["\u5728\u5beb\u7a0b\u5f0f\u7684\u6642\u5019\uff0c\u6709\u6c92\u6709\u9047\u904e\u57f7\u884c\u67d0\u4e9b\u51fd\u6578\u7167\u7406\u61c9\u8a72\u8981\u56de\u50b3\u9663\u5217\uff0c\u7136\u5f8c\u4f60\u6703\u5728\u9019\u500b\u9663\u5217\u4e0a\u547c\u53eb ",(0,s.jsx)(n.code,{children:".map"})," \u6216 ",(0,s.jsx)(n.code,{children:".forEach"})," \u65b9\u6cd5\u505a\u9ede\u4e8b\u60c5\uff0c\u4f46\u7d50\u679c\u4f60\u62ff\u5230\u7684\u4e0d\u662f\u9663\u5217\uff0c\u800c\u662f\u4e00\u500b ",(0,s.jsx)(n.code,{children:"undefined"}),"\uff0c\u7136\u5f8c\u7a0b\u5f0f\u5c31\u51fa\u932f\u4e86..."]}),"\n",(0,s.jsx)(n.p,{children:"\u6211\u7528 JavaScript \u8209\u500b\u4f8b\u5b50\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"function getFriends() {\r\n  // \u56de\u50b3\u670b\u53cb\u6e05\u55ae\r\n}\r\n\r\nconst friends = getFriends()  // \u57f7\u884c\u4e4b\u5f8c\u624d\u767c\u73fe\u81ea\u5df1\u6c92\u670b\u53cb\r\nfriends.map(() => { ... })    // \u51fa\u932f\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u9047\u5230\u9019\u7a2e\u60c5\u6cc1\u4f60\u6703\u600e\u9ebc\u89e3\u6c7a\uff1f\u901a\u5e38\u662f\u6aa2\u67e5 ",(0,s.jsx)(n.code,{children:"friends"})," \u662f\u4e0d\u662f\u6709\u6771\u897f\uff0c\u5982\u679c\u6709\u7684\u8a71\u624d\u5f80\u4e0b\u505a\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"if (friends) {\r\n  friends.map(() => { ... })\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u6216\u662f\u4e5f\u53ef\u7528\u77ed\u4e00\u9ede\u7684 ",(0,s.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining",children:"Optional Chaining"})," \u7684\u5beb\u6cd5\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"friends?.map(() => { ... })\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u5728 JavaScript \u61c9\u8a72\u662f\u5f88\u5e38\u898b\u7684\u505a\u6cd5\uff0c\u4f46\u5927\u5bb6\u770b\u5230\u73fe\u5728\uff0c\u6709\u6c92\u6709\u767c\u73fe Rust \u4e26\u6c92\u6709 ",(0,s.jsx)(n.code,{children:"undefined"})," \u6216 ",(0,s.jsx)(n.code,{children:"Null"})," \u6216 ",(0,s.jsx)(n.code,{children:"nil"})," \u7684\u7a7a\u503c\u7684\u578b\u5225\uff1f\u4e26\u4e0d\u662f Rust \u4e0d\u9700\u8981\u7a7a\u503c\u7684\u8a2d\u8a08\uff0c\u800c\u662f\u7528\u4e86\u5176\u5b83\u7684\u65b9\u5f0f\u4f86\u8655\u7406\u3001\u5224\u65b7\uff0c\u7b2c\u4e00\u500b\u8981\u4ecb\u7d39\u7684\u5c31\u662f ",(0,s.jsx)(n.code,{children:"Option"}),"\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"option",children:"Option"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Option"})," \u7ffb\u8b6f\u6210\u4e2d\u6587\u662f\u300c\u9078\u9805\u300d\uff0c\u5b83\u662f Rust \u5167\u5efa\u7684\u503c\uff0c\u4f46\u5982\u679c\u5927\u5bb6\u53bb\u7ffb\u4e00\u4e0b ",(0,s.jsx)(n.code,{children:"Option"})," \u7684\u539f\u59cb\u78bc\uff0c\u5c31\u6703\u767c\u73fe ",(0,s.jsx)(n.code,{children:"Option"})," \u5176\u5be6\u5c31\u53ea\u662f\u4e00\u500b\u6211\u5011\u5728\u4e0a\u500b\u7ae0\u7bc0\u4ecb\u7d39\u7684 Enum \u800c\u5df2\uff08\u900f\u904e VSCode \u53ef\u4ee5\u5f88\u5bb9\u6613\u5c31\u7ffb\u5230 Rust \u7684\u539f\u59cb\u78bc\uff09\uff0c\u5728\u9019\u500b Enum \u88e1\u6709 ",(0,s.jsx)(n.code,{children:"None"})," \u8ddf ",(0,s.jsx)(n.code,{children:"Some"})," \u9019\u5169\u500b\u8b8a\u9ad4\uff08Variant\uff09\uff0c\u5176\u4e2d ",(0,s.jsx)(n.code,{children:"Some"})," \u9019\u500b\u8b8a\u9ad4\u9084\u80fd\u5e36\u53c3\u6578\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"pub enum Option<T> {\r\n    None,\r\n    Some(T),\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e0a\u9762\u9019\u500b\u5beb\u6cd5\u73fe\u5728\u770b\u8d77\u4f86\u61c9\u8a72\u4e0d\u964c\u751f\u4e86\u3002\u5176\u4e2d\u8b8a\u9ad4 ",(0,s.jsx)(n.code,{children:"None"})," \u7528\u4f86\u8868\u793a\u503c\u4e0d\u5b58\u5728\uff0c\u8b8a\u9ad4 ",(0,s.jsx)(n.code,{children:"Some(T)"})," \u5247\u662f\u8868\u793a\u9019\u500b\u503c\u662f\u5b58\u5728\u7684\uff0c\u800c\u4e14\u9019\u500b\u5b58\u5728\u7684\u503c\u578b\u5225\u5c31\u662f ",(0,s.jsx)(n.code,{children:"T"}),"\u3002\u90a3\u500b ",(0,s.jsx)(n.code,{children:"T"})," \u8acb\u66ab\u6642\u5148\u5ffd\u7565\u5b83\uff0c\u6211\u5011\u6703\u5728\u4ecb\u7d39\u300c\u6cdb\u578b\u300d\u7684\u6642\u5019\u6703\u518d\u8a73\u8ff0\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u6240\u4ee5\u5c31 Enum \u672c\u8eab\u4f86\u8aaa\uff0c",(0,s.jsx)(n.code,{children:"Option"})," \u4e26\u6c92\u4ec0\u9ebc\u7279\u5225\u7684\u3002\u524d\u9762\u63d0\u5230 Rust \u4e26\u6c92\u6709 ",(0,s.jsx)(n.code,{children:"Null"})," \u6216 ",(0,s.jsx)(n.code,{children:"undefined"})," \u7684\u8a2d\u8a08\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f ",(0,s.jsx)(n.code,{children:"None"}),"\uff0c\u4e5f\u5c31\u662f ",(0,s.jsx)(n.code,{children:"Option"})," \u9019\u500b Enum \u88e1\u7684 ",(0,s.jsx)(n.code,{children:"None"}),"\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u4f60\u6709\u670b\u53cb\u55ce",children:"\u4f60\u6709\u670b\u53cb\u55ce\uff1f"}),"\n",(0,s.jsxs)(n.p,{children:["\u5047\u8a2d\u6211\u5beb\u4e86\u4e00\u500b\u53ef\u4ee5\u56de\u50b3\u670b\u53cb\u540d\u55ae\u7684 ",(0,s.jsx)(n.code,{children:"get_friends()"})," \u51fd\u6578\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn get_friends() {\r\n    // ...\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5927\u5bb6\u5148\u4e0d\u7ba1\u6211\u9019\u670b\u53cb\u7684\u540d\u55ae\u600e\u9ebc\u4f86\u7684\uff0c",(0,s.jsx)(n.code,{children:"get_friends()"})," \u9019\u500b\u51fd\u6578\u6240\u56de\u50b3\u7d50\u679c\u53ef\u80fd\u662f\u4e00\u500b Vector\uff0c\u6240\u4ee5\u6211\u53ef\u4ee5\u628a\u9019\u500b\u51fd\u6578\u7684\u56de\u50b3\u578b\u5225\u8a2d\u5b9a\u6210 ",(0,s.jsx)(n.code,{children:"Vec<u8>"}),"\uff0c\u5c31\u7b97\u6c92\u6709\u670b\u53cb\u4e5f\u7d66\u6211\u500b\u7a7a\u7684 Vector \u5c31\u597d\u3002\u4f46\u5047\u8a2d\u56e0\u70ba\u67d0\u4e9b\u4e0d\u78ba\u5b9a\u7684\u539f\u56e0\uff0c\u5b83\u56de\u50b3\u7684\u7d50\u679c\u9023 Vector \u90fd\u4e0d\u662f\u7684\u8a71\u600e\u9ebc\u8fa6\uff1f\u5982\u679c\u4f60\u77e5\u9053\u9019\u500b\u51fd\u6578\u6709\u53ef\u80fd\u56de\u50b3\u7a7a\u7684\u503c\uff0c\u4f60\u73fe\u5728\u4e5f\u77e5\u9053 Rust \u7de8\u8b6f\u5668\u5f88\u9f9c\u6bdb\uff0c\u4ec0\u9ebc\u4e8b\u90fd\u8981\u8aaa\u6e05\u695a\u8b1b\u660e\u767d\uff0c\u90a3\u9ebc\u4f60\u89ba\u5f97 ",(0,s.jsx)(n.code,{children:"get_friends()"})," \u9019\u500b\u51fd\u6578\u7684\u56de\u50b3\u503c\u578b\u5225\u8a72\u600e\u9ebc\u5beb\uff1f\u9019\u6642\u5019\u5c31\u53ef\u4ee5\u62ff ",(0,s.jsx)(n.code,{children:"Option"})," \u9019\u500b Enum \u51fa\u4f86\u7528\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn get_friends() -> Option<Vec<u8>> {\r\n    // \u53ef\u80fd\u56de\u50b3 Vec<u8>\uff0c\u4e5f\u53ef\u80fd\u6c92\u6709\u56de\u50b3\u503c\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Option<Vec<u8>>"})," \u770b\u8d77\u4f86\u6709\u9ede\u8907\u96dc\uff0c\u5b83\u7684\u610f\u601d\u544a\u8a34 Rust \u7de8\u8b6f\u5668\u8aaa\u9019\u500b\u51fd\u6578\u53ef\u80fd\u6703\u6709\u56de\u50b3\u503c\uff0c\u4e5f\u6709\u53ef\u80fd\u4e0d\u6703\u6709\uff0c\u4f46\u5982\u679c\u6709\u7684\u8a71\uff0c\u5b83\u6703\u662f\u4e00\u500b ",(0,s.jsx)(n.code,{children:"Vec<u8>"})," \u578b\u5225\u7684\u503c\u3002\u96d6\u7136 Rust \u4e0d\u559c\u6b61\u4e0d\u78ba\u5b9a\u6027\uff0c\u4f46\u81f3\u5c11\u4f60\u628a\u9019\u7a2e\u4e0d\u78ba\u5b9a\u6027\u76f4\u767d\u7684\u8ddf\u5b83\u8aaa\uff0c\u6e1b\u5c11\u4e00\u9ede\u5b83\u7684\u4e0d\u5b89\uff0cRust \u7684\u7de8\u8b6f\u5668\u9084\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u6a23\u51fd\u6578\u88e1\u9762\u8a72\u600e\u9ebc\u5beb\uff1f\u6211\u7a0d\u5fae\u6539\u4e86\u4e00\u4e0b\u539f\u672c\u7684\u51fd\u6578\u7c3d\u540d\uff0c\u9019\u6a23\u770b\u8d77\u4f86\u6bd4\u8f03\u5bb9\u6613\u8aaa\u660e\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn get_friends(has_money: bool) -> Option<Vec<u8>> {\r\n    if !has_money {\r\n        return None;\r\n    }\r\n\r\n    let friends: Vec<u8> = vec![1, 2, 3, 4, 5];\r\n    Some(friends)\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u6211\u591a\u50b3\u4e86\u4e00\u500b ",(0,s.jsx)(n.code,{children:"has_money"})," \u53c3\u6578\u4f86\u505a\u5224\u65b7\uff0c\u5982\u679c\u6c92\u6709\u9322\u9322\u5c31\u6c92\u6709\u670b\u53cb\uff08\u597d\u73fe\u5be6\uff09\uff0c\u6240\u4ee5\u5c31\u56de\u50b3\u500b ",(0,s.jsx)(n.code,{children:"Option"})," \u88e1\u9762\u7684 ",(0,s.jsx)(n.code,{children:"None"})," \u8b8a\u9ad4\u56de\u4f86\uff0c\u53cd\u6b63\u5982\u679c\u6709\u9322\u6709\u670b\u53cb\u7684\u8a71\u5c31\u6703\u56de\u50b3\u53e6\u4e00\u500b\u8b8a\u9ad4 ",(0,s.jsx)(n.code,{children:"Some(T)"})," \u56de\u4f86\uff0c\u4e26\u4e14\u628a\u670b\u53cb\u540d\u55ae\u5305\u5728\u8b8a\u9ad4\u88e1\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u4e0a\u9762\u9019\u500b\u60c5\u5883\u9084\u662f\u6bd4\u8f03\u53ef\u4ee5\u63a7\u5236\u7684\uff0c\u81f3\u5c11\u5b83\u8ddf\u50b3\u5165\u7684\u53c3\u6578\u6709\u95dc\uff0c\u4f46\u8aaa\u4e0d\u5b9a\u6709\u66f4\u4e0d\u53ef\u63a7\u6216\u662f\u8ddf\u7cfb\u7d71\u6216\u74b0\u5883\u8b8a\u6578\u8a2d\u5b9a\u6709\u95dc\uff0c\u4f60\u4e0d\u4e00\u5b9a\u80fd\u4fdd\u8b49\u6700\u5f8c\u5f97\u5230\u4ec0\u9ebc\u7d50\u679c\u3002\u770b\u5230\u9019\u88e1\u4f60\u4e5f\u8a31\u6703\u60f3\u300c\u5982\u679c\u6c92\u6771\u897f\uff0c\u90a3\u5c31\u56de\u50b3\u4e00\u500b\u7a7a\u9663\u5217\u5c31\u597d\u5566\uff0c\u70ba\u4ec0\u9ebc\u9084\u8981\u523b\u610f\u56de\u50b3\u4e00\u500b ",(0,s.jsx)(n.code,{children:"None"})," \u56de\u4f86\uff1f\u300d"]}),"\n",(0,s.jsx)(n.p,{children:"\u662f\u7684\uff0c\u4f60\u7684\u60f3\u6cd5\u662f\u6b63\u78ba\u7684\uff0c\u6c92\u7d50\u679c\u7684\u6642\u5019\u56de\u50b3\u7a7a\u9663\u5217\u662f\u4e00\u7a2e\u505a\u6cd5\uff0c\u4f60\u5728 Rust \u4e5f\u53ef\u4ee5\u9019\u6a23\u505a\u6c92\u554f\u984c\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn get_friends(has_money: bool) -> Vec<u8> {\r\n    if !has_money {\r\n        return vec![];\r\n    }\r\n\r\n    let friends: Vec<u8> = vec![1, 2, 3, 4, 5];\r\n    return friends;\r\n}\r\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u6c92\u9322\u9322\u5c31\u56de\u50b3\u4e00\u500b\u7a7a\u7684 Vector \u56de\u4f86\u5c31\u597d\uff0c\u7136\u5f8c\u5728\u5224\u65b7\u7684\u6642\u5019\u53ea\u8981\u5224\u65b7 Vector \u88e1\u6709\u6c92\u6709\u5143\u7d20\u5c31\u77e5\u9053\u6709\u6c92\u6709\u670b\u53cb\u4e86\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'let friends = get_friends(false);\r\n\r\nif friends.len() == 0 {\r\n    println!("\u6211\u662f\u908a\u7de3\u4eba\u6211\u9a55\u50b2\uff01")\r\n} else {\r\n    println!("\u6211\u6709\u597d\u591a\u670b\u53cb {:?}", friends)\r\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e00\u822c\u7a0b\u5f0f\u5f88\u5e38\u770b\u5230\u9019\u6a23\u7684\u5beb\u6cd5\u3002\u4f46\u5982\u679c\u5229\u7528\u56de\u50b3 ",(0,s.jsx)(n.code,{children:"Option"})," \u578b\u5225\u518d\u642d\u914d\u5728\u4e0a\u500b\u7ae0\u7bc0\u4ecb\u7d39\u904e\u7684 ",(0,s.jsx)(n.code,{children:"match"}),"\uff0c\u53ef\u4ee5\u8b93\u6d41\u7a0b\u8b8a\u7684\u66f4\u6e05\u695a\u4e00\u9ede\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'let friends = get_friends(false);\r\n\r\nmatch friends {\r\n    None => println!("\u6211\u662f\u908a\u7de3\u4eba\u6211\u9a55\u50b2\uff01"),\r\n    Some(list) => println!("\u6211\u6709\u597d\u591a\u670b\u53cb {:?}", list)\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u900f\u904e Pattern Matching\uff0c\u5982\u679c\u6bd4\u5c0d\u5230 ",(0,s.jsx)(n.code,{children:"Some(T)"})," \u8b8a\u9ad4\uff0c\u525b\u624d\u56de\u50b3\u7684\u6642\u5019\u5305\u5728 ",(0,s.jsx)(n.code,{children:"Some(T)"})," \u8b8a\u9ad4\u7684\u6771\u897f\uff0c\u5c31\u53ef\u4ee5\u5728\u73fe\u5728\u62ff\u51fa\u4f86\u7528\u4e86\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u9019\u6a23\u662f\u4e0d\u662f\u6d41\u7a0b\u770b\u8d77\u4f86\u66f4\u6e05\u695a\u4e86\uff1f\u9019\u6a23\u7684\u5beb\u6cd5\u5728 Rust \u88e1\u9084\u6eff\u898b\u7684\u3002"}),"\n",(0,s.jsx)(n.h3,{id:"\u6253\u958b\u5305\u88dd\u76d2",children:"\u6253\u958b\u5305\u88dd\u76d2"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Option"})," \u9664\u4e86\u642d\u914d ",(0,s.jsx)(n.code,{children:"match"})," \u4e4b\u5916\uff0c\u4e5f\u80fd\u76f4\u63a5\u62ff\u4f86\u7528\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'let friends = get_friends(true);\r\nprintln!("{:?}", friends);\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u76f4\u63a5\u5370\u7684\u8a71\uff0c\u4f60\u4e26\u4e0d\u6703\u5370\u51fa\u771f\u6b63\u7684\u670b\u53cb\u540d\u55ae\uff0c\u800c\u662f\u5370\u51fa ",(0,s.jsx)(n.code,{children:"Some([1, 2, 3, 4, 5])"})," \u9019\u500b\u8b8a\u9ad4\u3002\u4f60\u60f3\u8981\u7684\u8cc7\u6599\u88ab ",(0,s.jsx)(n.code,{children:"Some(T)"})," \u8b8a\u9ad4\u5305\u8457\uff0c\u5982\u679c\u60f3\u8981\u53d6\u5f97\u9019\u500b\u8b8a\u9ad4\u88e1\u7684\u5167\u5bb9\u7684\u8a71\uff0c\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:".unwrap()"})," \u65b9\u6cd5\u628a\u5b83\u300c\u6253\u958b\u300d\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'println!("{:?}", friends.unwrap());\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u900f\u904e ",(0,s.jsx)(n.code,{children:".unwrap()"})," \u65b9\u6cd5\u5c31\u53ef\u4ee5\u628a\u8b8a\u9ad4 ",(0,s.jsx)(n.code,{children:"Some(T)"})," \u88e1\u7684\u6771\u897f\u62ff\u51fa\u4f86\uff0c\u4f46\u842c\u4e00\u4f60\u62ff\u5230\u7684\u662f ",(0,s.jsx)(n.code,{children:"None"})," \u8b8a\u9ad4\u7684\u8a71\uff0c\u5c0d\u5b83\u505a ",(0,s.jsx)(n.code,{children:".unwrap()"})," \u6703\u5f97\u5230\u932f\u8aa4\u8a0a\u606f\uff0c\u6240\u4ee5\u8981\u5c0f\u5fc3\u4f7f\u7528\uff0c\u78ba\u5b9a ",(0,s.jsx)(n.code,{children:"Option"})," \u6709\u503c\u518d\u7528\u5b83\uff0c\u6216\u662f\u5c31\u4e7e\u8106\u7528 ",(0,s.jsx)(n.code,{children:"match"})," \u5c31\u597d\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u5982\u679c\u5927\u5bb6\u6709\u8208\u8da3\u60f3\u77e5\u9053 ",(0,s.jsx)(n.code,{children:".unwrap()"})," \u5be6\u969b\u4e0a\u662f\u600e\u9ebc\u904b\u4f5c\u7684\uff0c\u7ffb\u4e00\u4e0b\u539f\u59cb\u78bc\u5c31\u6703\u767c\u73fe\u5b83\u662f\u9019\u6a23\u5b9a\u7fa9\u7684\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'pub const fn unwrap(self) -> T {\r\n    match self {\r\n        Some(val) => val,\r\n        None => panic("called `Option::unwrap()` on a `None` value"),\r\n    }\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u96d6\u7136\u73fe\u5728\u4e0d\u4e00\u5b9a\u6bcf\u500b\u8a9e\u6cd5\u90fd\u770b\u7684\u61c2\uff0c\u4f46\u61c9\u8a72\u770b\u7684\u51fa\u4f86 ",(0,s.jsx)(n.code,{children:".unwrap()"})," \u9019\u500b\u65b9\u6cd5\u88e1\u9762\u4e5f\u662f\u8dd1\u4e86\u4e00\u500b ",(0,s.jsx)(n.code,{children:"match"}),"\uff0c\u5982\u679c\u9047\u5230 ",(0,s.jsx)(n.code,{children:"None"})," \u7684\u6642\u5019\u5c31\u4e1f\u4e00\u500b Panic \u51fa\u4f86\u3002\u53e6\u5916\uff0c",(0,s.jsx)(n.code,{children:".unwrap()"})," \u65b9\u6cd5\u5e36\u9032\u53bb\u53c3\u6578\u4e26\u4e0d\u662f\u53c3\u7167\uff08\u6709\u6ce8\u610f\u5230\u5b83\u662f ",(0,s.jsx)(n.code,{children:"self"})," \u800c\u4e0d\u662f ",(0,s.jsx)(n.code,{children:"&self"})," \u4e86\u55ce\uff1f\uff09\uff0c\u9019\u4ee3\u8868\u57f7\u884c ",(0,s.jsx)(n.code,{children:".unwrap()"})," \u89e3\u958b\u4e4b\u5f8c\u5982\u679c\u4e0d\u662f Panic \u7206\u70b8\uff0c\u5c31\u662f\u8f49\u79fb\u6240\u6709\u6b0a\u4e86\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u5230\u9019\u88e1\uff0c\u5927\u5bb6\u6709\u6c92\u6709\u958b\u59cb\u89ba\u5f97\u597d\u50cf\u8d8a\u4f86\u8d8a\u770b\u61c2\u7684 Rust \u7684\u8a9e\u6cd5\u4e86\u5462\uff1f"}),"\n",(0,s.jsx)(n.h3,{id:"\u5176\u5b83\u597d\u7528\u7684\u65b9\u6cd5",children:"\u5176\u5b83\u597d\u7528\u7684\u65b9\u6cd5"}),"\n",(0,s.jsxs)(n.p,{children:["\u9664\u4e86\u4e1f\u7d66 ",(0,s.jsx)(n.code,{children:"match"})," \u505a\u6bd4\u5c0d\u4e4b\u5916\uff0c",(0,s.jsx)(n.code,{children:"Option"})," \u672c\u8eab\u9084\u6709\u63d0\u4f9b\u4e00\u4e9b\u6bd4\u8f03\u7c21\u55ae\u7684\u65b9\u6cd5\uff0c\u4f8b\u5982\u5224\u65b7\u662f ",(0,s.jsx)(n.code,{children:"None"})," \u9084\u662f ",(0,s.jsx)(n.code,{children:"Some(T)"}),"\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'println!("{}", friends.is_some());\r\nprintln!("{}", friends.is_none());\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u5169\u500b\u65b9\u6cd5\u90fd\u6703\u56de\u50b3 ",(0,s.jsx)(n.code,{children:"bool"})," \u578b\u5225\uff0c\u5149\u770b\u65b9\u6cd5\u7684\u540d\u5b57\u5c31\u80fd\u731c\u5230\u5b83\u60f3\u505a\u4ec0\u9ebc\u4e8b\u3002\u53e6\u5916\uff0c\u525b\u624d\u4ecb\u7d39\u7684 ",(0,s.jsx)(n.code,{children:".unwrap()"})," \u65b9\u6cd5\u5728\u9047\u5230 ",(0,s.jsx)(n.code,{children:"None"})," \u7684\u6642\u5019\u6703\u51fa\u932f\uff0c\u4f46\u9084\u6709\u5e7e\u500b\u4e00\u6a23\u53ef\u4ee5\u89e3\u958b\u4f46\u6bd4\u8f03\u4fdd\u96aa\u4e00\u9ede\u7684\u505a\u6cd5\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'println!("{:?}", friends.unwrap_or(vec![]));\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u7528 ",(0,s.jsx)(n.code,{children:".unwrap_or()"})," \u65b9\u6cd5\u4f86\u89e3\u5305\u7684\u6642\u5019\uff0c\u5982\u679c\u662f ",(0,s.jsx)(n.code,{children:"Some(T)"})," \u5c31\u6703\u5f97\u5230\u89e3\u958b\u7684\u6771\u897f\uff0c",(0,s.jsx)(n.code,{children:"None"})," \u5247\u662f\u5f97\u5230\u5f8c\u9762\u7d66\u7684\u90a3\u500b\u9810\u8a2d\u503c\u3002\u9084\u6709\u500b ",(0,s.jsx)(n.code,{children:".unwrap_or_else()"})," \u8ddf\u5b83\u6709\u9ede\u50cf\uff0c\u4f46\u5f8c\u9762\u5247\u662f\u5e36\u500b\u51fd\u6578\uff0c\u8b93\u4f60\u53ef\u4ee5\u518d\u505a\u5176\u5b83\u7684\u8a08\u7b97\u3002\u8981\u6ce8\u610f\u7684\u662f\u4e0d\u7ba1\u662f ",(0,s.jsx)(n.code,{children:".unwrap_or()"})," \u9084\u662f ",(0,s.jsx)(n.code,{children:".unwrap_or_else()"}),"\uff0c\u5b83\u5011\u7684\u5be6\u4f5c\u90fd\u662f\u628a ",(0,s.jsx)(n.code,{children:"self"})," \u5e36\u9032\u53bb\u7684\uff0c\u4e5f\u5c31\u662f\u8aaa\u4e0d\u7ba1\u6709\u6c92\u89e3\u958b\uff0c\u6240\u6709\u6b0a\u90fd\u6703\u9032\u884c\u79fb\u8f49\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"result",children:"Result"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Option"})," \u53ef\u4ee5\u7528\u4f86\u8868\u793a\u67d0\u500b\u503c\u662f\u5426\u5b58\u5728\uff0c\u53ef\u6839\u64da\u5b83\u662f ",(0,s.jsx)(n.code,{children:"Some(T)"})," \u9084\u662f ",(0,s.jsx)(n.code,{children:"None"})," \u4f86\u6c7a\u5b9a\u600e\u9ebc\u8655\u7406\uff0c\u4e0d\u904e\u5982\u679c\u9047\u5230\u67d0\u500b\u51fd\u6578\u57f7\u884c\u4e0d\u77e5\u9053\u4e0d\u662f\u6703\u6210\u529f\u6216\u9700\u8981\u660e\u78ba\u8655\u7406\u932f\u8aa4\u7684\u60c5\u6cc1\uff0c",(0,s.jsx)(n.code,{children:"Option"})," \u53ef\u80fd\u5c31\u6c92\u90a3\u9ebc\u597d\u7528\uff0c\u6211\u5011\u4f86\u770b\u500b\u4f8b\u5b50\u3002"]}),"\n",(0,s.jsx)(n.h3,{id:"\u4f60\u6236\u982d\u88e1\u9084\u6709\u9322\u55ce",children:"\u4f60\u6236\u982d\u88e1\u9084\u6709\u9322\u55ce\uff1f"}),"\n",(0,s.jsxs)(n.p,{children:["\u62b1\u6b49\u6211\u90fd\u7528\u9019\u4e9b\u6709\u9ede\u9285\u81ed\u5473\u7684\u4f8b\u5b50\u3002\u5047\u8a2d\u6211\u8981\u5beb\u4e00\u500b\u9818\u9322\u7684\u51fd\u6578 ",(0,s.jsx)(n.code,{children:"withdraw()"}),"\uff0c\u88e1\u9762\u6703\u5e36\u4e00\u500b\u60f3\u8981\u9818\u591a\u5c11\u9322\u7684\u53c3\u6578 ",(0,s.jsx)(n.code,{children:"amount"}),"\uff0c\u578b\u5225\u7528 ",(0,s.jsx)(n.code,{children:"u32"})," \u7684\u4e0a\u9650\u6709\u5230 42 \u5104\u61c9\u8a72\u662f\u5920\uff0c\u6015\u7684\u8a71\u53ef\u4ee5\u518d\u958b\u9ad8\u4e00\u9ede\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn withdraw(amount: u32) -> u32 {\r\n    // \u5224\u65b7\u5e33\u6236\u9918\u984d\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u9019\u770b\u8d77\u4f86\u6c92\u554f\u984c\uff0c\u4f46\u9818\u4e0d\u9818\u7684\u51fa\u4f86\u9084\u662f\u5f97\u770b\u6236\u982d\u88e1\u7684\u9918\u984d\u5920\u4e0d\u5920\uff0c\u9818\u7684\u51fa\u4f86\u5c31\u7b97\u4e86\uff0c\u842c\u4e00\u9818\u4e0d\u51fa\u4f86\u4f60\u6253\u7b97\u600e\u9ebc\u8655\u7406\uff1f\u5982\u679c\u6709\u53ef\u80fd\u6703\u9818\u4e0d\u51fa\u4f86\uff0c\u4f60\u6253\u7b97\u600e\u9ebc\u8ddf Rust \u7de8\u8b6f\u5668\u4ea4\u5f85\u9019\u500b\u51fd\u6578\u7684\u56de\u50b3\u503c\uff1f\u525b\u525b\u5b78\u5230\u7684 ",(0,s.jsx)(n.code,{children:"Option"})," \u597d\u50cf\u4e5f\u80fd\u7528\u5728\u9019\uff0c\u4f46\u6709\u500b\u66f4\u9069\u5408\u9019\u500b\u60c5\u5883\u7684\uff0c\u5c31\u662f ",(0,s.jsx)(n.code,{children:"Result"}),"\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Result"})," \u662f\u53e6\u4e00\u500b\u8ddf ",(0,s.jsx)(n.code,{children:"Option"})," \u6709\u9ede\u50cf\u7684\u6771\u897f\uff0c\u5982\u679c\u53bb\u7ffb\u539f\u59cb\u78bc\u5c31\u6703\u767c\u73fe\u5b83\u672c\u8eab\u4e5f\u662f\u500b Enum\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"pub enum Result<T, E> {\r\n    Ok(T),\r\n    Err(E),\r\n}\r\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u88e1\u9762\u6709 ",(0,s.jsx)(n.code,{children:"Ok(T)"})," \u8ddf ",(0,s.jsx)(n.code,{children:"Err(E)"})," \u9019\u5169\u500b\u8b8a\u9ad4\uff0c\u5f9e\u5b57\u9762\u4e0a\u5c31\u5927\u6982\u80fd\u731c\u5230\u7528\u9014\u4e86\u3002\u4e0d\u540c\u7684\u662f\u5b83\u6bd4 ",(0,s.jsx)(n.code,{children:"Option"})," \u591a\u5e36\u4e86\u4e00\u500b\u578b\u5225\uff0c",(0,s.jsx)(n.code,{children:"Ok(T)"})," \u8b8a\u9ad4\u7684\u53c3\u6578\u662f ",(0,s.jsx)(n.code,{children:"T"}),"\uff0c\u800c ",(0,s.jsx)(n.code,{children:"Err(E)"})," \u5247\u662f ",(0,s.jsx)(n.code,{children:"E"}),"\uff0c\u9019\u88e1\u7684 ",(0,s.jsx)(n.code,{children:"T"})," \u8ddf ",(0,s.jsx)(n.code,{children:"E"})," \u8acb\u66ab\u6642\u4e0d\u7528\u7ba1\u5b83\u5011\u662f\u4ec0\u9ebc\u578b\u5225\uff0c\u5148\u628a\u5b83\u5011\u770b\u6210\u4e0d\u540c\u7684\u578b\u5225\u5c31\u597d\uff0c\u6211\u5011\u5728\u4e0b\u500b\u7ae0\u7bc0\u300c\u6cdb\u578b\u300d\u518d\u4f86\u8ddf\u5927\u5bb6\u4ecb\u7d39\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u63a5\u8457\u6211\u5011\u53ef\u628a ",(0,s.jsx)(n.code,{children:"Result"})," \u7576\u505a\u56de\u50b3\u578b\u5225\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:"fn withdraw(amount: u32) -> Result<u32, String> {\r\n    // \u5224\u65b7\u5e33\u6236\u9918\u984d\r\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u4e5f\u5c31\u662f\u8ddf Rust \u7de8\u8b6f\u5668\u8aaa\u300c\u6211\u4e0d\u77e5\u9053\u9019\u500b\u51fd\u6578\u6703\u4e0d\u6703\u6210\u529f\uff0c\u4f46\u662f\u4f60\u653e\u5fc3\uff0c\u5b83\u4e00\u5b9a\u6703\u6709\u500b\u7d50\u679c\u7684\u300d\u3002\u63a5\u8457\u4f86\u628a\u88e1\u9762\u7684\u6d41\u7a0b\u88dc\u4e0a\uff0c\u53ea\u8981\u60f3\u8981\u63d0\u9818\u7684\u91d1\u984d\u8d85\u904e\u9918\u984d\u5c31\u56de\u50b3 ",(0,s.jsx)(n.code,{children:"Err(E)"})," \u8b8a\u9ad4\u800c\u4e14\u5305\u500b\u5b57\u4e32\u8a0a\u606f\u7d66\u5b83\uff0c\u4e0d\u7136\u5c31\u56de\u50b3 ",(0,s.jsx)(n.code,{children:"Ok(T)"})," \u8b8a\u9ad4\u4e26\u628a\u63d0\u9818\u7684\u91d1\u984d\u5305\u5728\u88e1\u9762\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'const BANK_BALANCE: u32 = 1000;\r\n\r\nfn withdraw(amount: u32) -> Result<u32, String> {\r\n    if amount > BANK_BALANCE {\r\n       return Err(String::from("\u9918\u984d\u4e0d\u8db3"));\r\n    }\r\n\r\n    Ok(amount)\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u63a5\u8457\u540c\u6a23\u518d\u642d\u914d ",(0,s.jsx)(n.code,{children:"match"}),"\uff0c\u5beb\u8d77\u4f86\u6703\u8b8a\u9019\u6a23\uff1a"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'match withdraw(100) {\r\n    Ok(amount) => println!("\u63d0\u9818\u91d1\u984d {} \u5143", amount),\r\n    Err(message) => println!("\u63d0\u9818\u5931\u6557\uff1a{}", message)\r\n}\r\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5927\u5bb6\u770b\u5230\u9019\u88e1\uff0c\u4e0d\u77e5\u9053\u6709\u6c92\u6709\u767c\u73fe ",(0,s.jsx)(n.code,{children:"withdraw()"})," \u9019\u500b\u51fd\u6578\u73fe\u5728\u53ea\u8981\u56de\u5831\u5b83\u7684\u63d0\u9818\u60c5\u6cc1\u5c31\u597d\uff0c\u800c\u63d0\u9818\u4e4b\u5f8c\u6210\u529f\u6216\u5931\u6557\u7684\u6d41\u7a0b\u5247\u662f\u53e6\u5916\u4ea4\u7d66 ",(0,s.jsx)(n.code,{children:"match"})," \u63a5\u624b\u8655\u7406\uff0c\u9019\u6a23\u53ef\u4ee5\u8b93 ",(0,s.jsx)(n.code,{children:"withdraw()"})," \u51fd\u6578\u66f4\u5c08\u5fc3\u505a\u5b83\u8a72\u505a\u7684\u4e8b\uff0c\u6e2c\u8a66\u4e5f\u6703\u597d\u5beb\u5f88\u591a\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u96d6\u7136 ",(0,s.jsx)(n.code,{children:"Option"})," \u8ddf ",(0,s.jsx)(n.code,{children:"Result"})," \u9019\u5169\u7a2e Enum \u6709\u6642\u5019\u53ef\u4ee5\u4ea4\u66ff\u4f7f\u7528\uff0c\u4f46\u57fa\u672c\u4e0a ",(0,s.jsx)(n.code,{children:"Option"})," \u4e3b\u8981\u7528\u4f86\u8868\u793a\u67d0\u500b\u503c\u662f\u5426\u5b58\u5728\uff0c\u800c ",(0,s.jsx)(n.code,{children:"Result"})," \u56e0\u70ba\u9084\u53e6\u5916\u63d0\u4f9b\u4e00\u500b\u53ef\u4ee5\u8655\u7406\u5931\u6557\u6216\u932f\u8aa4\u6d41\u7a0b\u7684 ",(0,s.jsx)(n.code,{children:"Err(E)"})," \u8b8a\u9ad4\uff0c\u53ef\u4ee5\u8b93\u6211\u5011\u66f4\u660e\u78ba\u7684\u56de\u50b3\u5931\u6557\u7684\u539f\u56e0\u3002"]}),"\n",(0,s.jsxs)(n.p,{children:["\u6bcf\u7a2e\u7a0b\u5f0f\u8a9e\u8a00\u90fd\u6709\u5b83\u5011\u7684\u559c\u597d\u6216\u6163\u4f8b\uff0c\u62ff\u8457\u5176\u5b83\u7a0b\u5f0f\u8a9e\u8a00\u7684\u6163\u4f8b\u4f86\u64b0\u5beb Rust \u5c31\u50cf\u62ff\u8457\u660e\u671d\u7684\u528d\u4f86\u65ac\u6e05\u671d\u7684\u5b98\uff0c\u7a0b\u5f0f\u6703\u52d5\u662f\u6703\u52d5\uff0c\u4f46\u4e00\u770b\u5c31\u77e5\u9053\u4f60\u4e0d\u662f\u5728\u5730\u7684\u5916\u9109\u4eba\u3002\u9069\u7576\u7684\u4f7f\u7528 ",(0,s.jsx)(n.code,{children:"Option"})," \u6216 ",(0,s.jsx)(n.code,{children:"Result"})," \u4e4b\u985e\u7684 Enum \u642d\u914d ",(0,s.jsx)(n.code,{children:"match"})," \u505a Pattern Matching\uff0c\u9664\u4e86\u7a0b\u5f0f\u6d41\u7a0b\u66f4\u6e05\u695a\u3001\u66f4\u5bb9\u6613\u7dad\u8b77\u4e4b\u5916\uff0c\u4e5f\u53ef\u4ee5\u8b93\u7a0b\u5f0f\u78bc\u98a8\u5473\u770b\u8d77\u4f86\u66f4 Rusty \u4e00\u9ede :)"]})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var s=r(6540);const c={},d=s.createContext(c);function i(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);